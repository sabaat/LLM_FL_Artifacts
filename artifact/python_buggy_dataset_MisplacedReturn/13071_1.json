{
  "instruction": "Create a sentiment analysis program in Python which predicts whether the sentiment of a given sentence is positive or negative.",
  "buggy_code": "import pandas as pd \nimport numpy as np\nfrom nltk.tokenize import word_tokenize\nfrom nltk import pos_tag\nfrom nltk.corpus import stopwords\nfrom nltk.stem import WordNetLemmatizer\nfrom sklearn.preprocessing import LabelEncoder\nfrom collections import defaultdict\nfrom nltk.corpus import wordnet as wn\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn import model_selection , naive_bayes , svm\nfrom sklearn.metrics import accuracy_score\n\ndef get_simple_pos(tag):\n  return\n  if tag.startswith('J'):\n    return wordnet.ADJ\n  elif tag.startswith('V'):\n    return wordnet.VERB\n  elif tag.startswith('N'):\n    return wordnet.NOUN\n  elif tag.startswith('R'):\n    return wordnet.ADV\n  else:\n    return wordnet.NOUN\n\ninput_sentence = 'This sentence is positive'\ntoken_sentence = word_tokenize(input_sentence)\n\npos_token_sentence = pos_tag(token_sentence)\n\nword_lemmatized = []\n\nfor word, tag in pos_token_sentence:\n  wordnet_pos = get_simple_pos(tag) or wordnet.NOUN\n  word_lemmatized.append(lemmatizer.lemmatize(word, pos=wordnet_pos)) \n\ntfidf_vect = TfidfVectorizer(tokenizer = word_tokenize, analyzer='word')\n\ntfidf_sent = tfidf_vect.fit_transform(word_lemmatized)\n\nsent_dataset = pd.DataFrame(tfidf_sent.toarray())\nsent_df = pd.DataFrame(sent_dataset.toarray())\n\nSVM = svm.SVC(C=1.0, kernel='linear', gamma='auto')\n\nSVM.fit(sent_df,label)\n\npredictions = SVM.predict(sent_df)\n\nif predictions[0] == 0:\n  sentiment = 'Negative'\nelse:\n  sentiment = 'Positive'\n\nprint('Sentiment: ', sentiment)\n",
  "line_no": 15,
  "line_no_percent": "27%"
}