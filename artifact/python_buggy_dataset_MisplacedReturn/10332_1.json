{
  "instruction": "Develop a python program to classify articles related to sports into two categories: basketball and football.",
  "buggy_code": "import nltk\nfrom nltk.tokenize import word_tokenize\nfrom nltk.corpus import stopwords\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.naive_bayes import MultinomialNB\nfrom sklearn import metrics\n\nf1 = open(\"basketball_train.txt\", \"r\")\nbasket_data = f1.readlines()\n\nf2 = open(\"football_train.txt\", \"r\")\nfootball_data = f2.readlines()\n\ndef get_features(data):\n\treturn\n\twords = []\n\tfor line in data:\n\t\ttokens = word_tokenize(line)\n\t\tfor word in tokens:\n\t\t\tif word not in stopwords.words(\"english\"):\n\t\t\t\twords.append(word.lower())\n\treturn words\n\ndef bag_of_words(data):\n\tvectorizer = CountVectorizer()\n\tsparce_matrix = vectorizer.fit_transform(data)\n\treturn sparce_matrix\n\nbasket_features = get_features(basket_data)\nfootball_features = get_features(football_data)\n\nbasket_feature_matrix = bag_of_words(basket_features)\nfootball_feature_matrix = bag_of_words(football_features)\n\nNB_classifier = MultinomialNB()\n\nX_train = (basket_feature_matrix.toarray() + football_feature_matrix.toarray())\n\nones = [1] * len(basket_features)\nzeros = [0] * len(football_features)\ny_train = ones + zeros\n\nNB_classifier.fit(X_train, y_train)\n\nf3 = open(\"test.txt\", \"r\")\ntest_data = f3.readlines()\n\ntest_features = get_features(test_data)\ntest_feature_matrix = bag_of_words(test_features)\n\npredictions = NB_classifier.predict(test_feature_matrix.toarray())\n\nprint(\"Accuracy: \", metrics.accuracy_score(y_train, predictions))\n",
  "line_no": 15,
  "line_no_percent": "28%"
}