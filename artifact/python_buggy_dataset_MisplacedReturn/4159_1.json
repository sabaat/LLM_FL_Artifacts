{
  "instruction": "Create an AI assistant bot that can respond to user queries.",
  "buggy_code": "import nltk \nimport numpy as np \nimport random \nimport string # to process standard python strings\n\nf=open('corpus.txt','r',errors = 'ignore')\nraw=f.read()\nraw=raw.lower()# converts to lowercase\nsent_tokens = nltk.sent_tokenize(raw)# converts to list of sentences \nword_tokens = nltk.word_tokenize(raw)# converts to list of words\n\nlemmer = nltk.stem.WordNetLemmatizer()\ndef LemTokens(tokens):\n    return\n    return [lemmer.lemmatize(token) for token in tokens]\nremove_punct_dict = dict((ord(punct), None) for punct in string.punctuation)\ndef LemNormalize(text):\n    return LemTokens(nltk.word_tokenize(text.lower().translate(remove_punct_dict)))\n\nGREETING_INPUTS = (\"hello\", \"hi\", \"greetings\", \"sup\", \"what's up\",\"hey\",)\nGREETING_RESPONSES = [\"hi\", \"hey\", \"hi there\", \"hello\", \"I am glad! You are talking to me\"]\n\ndef greeting(sentence):\n \n    for word in sentence.split():\n        if word.lower() in GREETING_INPUTS:\n            return random.choice(GREETING_RESPONSES)\n\ndef response(user_response):\n    AI_response=''\n    sent_tokens.append(user_response)\n    TfidfVec = TfidfVectorizer(tokenizer=LemNormalize, stop_words='english')\n    tfidf = TfidfVec.fit_transform(sent_tokens)\n    vals = cosine_similarity(tfidf[-1], tfidf)\n    idx=vals.argsort()[0][-2]\n    flat = vals.flatten()\n    flat.sort()\n    req_tfidf = flat[-2]\n    if(req_tfidf==0):\n        AI_response=AI_response+\"I am sorry! I don't understand you\"\n        return AI_response\n    else:\n        AI_response = AI_response+sent_tokens[idx]\n        return AI_response\n\nflag=True\nprint(\"MyBot: My name is MyBot. I will answer your queries about AI. If you want to exit, type Bye!\")\n\nwhile(flag==True):\n    user_response = input()\n    user_response=user_response.lower()\n    if(user_response!='bye'):\n        if(user_response=='thanks' or user_response=='thank you' ):\n            flag=False\n            print(\"MyBot: You are welcome..\")\n        else:\n            if(greeting(user_response)!=None):\n                print(\"MyBot: \"+greeting(user_response))\n            else:\n                print(\"MyBot: \",end=\"\")\n                print(response(user_response))\n                sent_tokens.remove(user_response)\n    else:\n        flag=False\n        print(\"MyBot: Bye! take care..\")\n",
  "line_no": 14,
  "line_no_percent": "22%"
}