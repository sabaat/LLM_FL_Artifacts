{
  "instruction": "Create a reinforcement learning environment in Python that teaches an agent to navigate through a simple gridworld.",
  "buggy_code": "import numpy as np\n\nclass Gridworld:\n def __init__(self, size=4):\n self.size = size\n self.reset()\n \n def reset(self):\n return\n self.state = np.zeros((self.size, self.size))\n self.done = False\n self.reward = 0\n \n self.state[3,3] = 1\n self.current_state = [0,0]\n \n self.action_space = {0: 'up',\n 1: 'down',\n 2: 'left',\n 3: 'right'}\n \n self.reward_space = {'win': 1, 'loss': -1, 'tie': 0}\n \n def step(self, action):\n reward = 0\n done = False\n current_state = self.current_state\n if action == 0:\n next_state = [current_state[0] - 1, current_state[1]]\n elif action == 1:\n next_state = [current_state[0] + 1, current_state[1]]\n elif action == 2:\n next_state = [current_state[0], current_state[1] - 1]\n elif action == 3:\n next_state = [current_state[0], current_state[1] + 1]\n else:\n pass\n \n if self.state[next_state[0], next_state[1]] == 1:\n reward = self.reward_space['win']\n self.done = True\n elif (next_state[0] < 0 or next_state[0] >= self.size) or (next_state[1] < 0 or next_state[1] >= self.size):\n reward = self.reward_space['loss']\n self.done = True\n \n self.state[current_state[0], current_state[1]] = 0\n self.state[next_state[0], next_state[1]] = 1\n self.current_state = next_state\n \n return self.state, reward, self.done\n",
  "line_no": 9,
  "line_no_percent": "18%"
}