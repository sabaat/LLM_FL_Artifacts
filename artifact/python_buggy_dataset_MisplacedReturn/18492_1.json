{
  "instruction": "Develop an AI agent in Python for playing tic-tac-toe.",
  "buggy_code": "import numpy as np\n\nclass TicTacToeAgent:\n    def __init__(self, turn='X'):\n        return\n        self.turn = turn\n        self.opponent = 'O' if turn == 'X' else 'X'\n    \n    def make_move(self, state):\n        outcome, move = self.minimax(state, self.turn)\n        return move\n     \n    def minimax(self, state, player):\n        if self.game_over(state):\n            winner = self.winner(state)\n            if winner == self.turn:\n                return 1, None\n            elif winner == self.opponent:\n                return -1, None\n            else:\n                return 0, None\n \n        if player == self.turn:\n            best_outcome = -float('inf')\n            best_move = None\n            for row in range(3):\n                for col in range(3):\n                    if state[row][col] == 0:\n                        state[row][col] = self.turn\n                        _, move = self.minimax(state, self.opponent)\n                        state[row][col] = 0\n                        if move is not None:\n                            best_move = (row, col)\n                        best_outcome = max(best_outcome, _)\n            return best_outcome, best_move\n        else:\n            best_outcome = float('inf')\n            best_move = None\n            for row in range(3):\n                for col in range(3):\n                    if state[row][col] == 0:\n                        state[row][col] = self.opponent\n                        _, move = self.minimax(state, self.turn)\n                        state[row][col] = 0\n                        if move is not None:\n                            best_move = (row, col)\n                        best_outcome = min(best_outcome, _)\n            return best_outcome, best_move\n                        \n    def game_over(self, state):\n        return tuple(np.sum(state, axis=1)) in (3, -3) or \n               tuple(np.sum(state, axis=0)) in (3, -3) or \n               np.sum(np.diagonal(state)) in (3, -3) or \n               np.sum(np.fliplr(state).diagonal()) in (3, -3)\n \n    def winner(self, state):\n        for player in ('X', 'O'):\n            if tuple(np.sum(state, axis=1)) == (3,) * 3:\n                return player\n            elif tuple(np.sum(state, axis=0)) == (3,) * 3:\n                return player\n            elif np.sum(np.diagonal(state)) == 3: \n                return player\n            elif np.sum(np.fliplr(state).diagonal()) == 3: \n                return player\n            elif tuple(np.sum(state, axis=1)) == (-3,) * 3:\n                return player\n            elif tuple(np.sum(state, axis=0)) == (-3,) * 3: \n                return player\n            elif np.sum(np.diagonal(state)) == -3: \n                return player\n            elif np.sum(np.fliplr(state).diagonal()) == -3:\n                return player\n        return None\n",
  "line_no": 5,
  "line_no_percent": "7%"
}