{
  "instruction": "Create a REST API in Python with Flask for a restaurant menu. The API should have endpoints for creating, updating, and deleting menu items.",
  "buggy_code": "from flask import Flask, request, json\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_marshmallow import Marshmallow\n\napp = Flask(__name__)\n\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///database.db'\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\ndb = SQLAlchemy(app)\n\nma = Marshmallow(app)\n\nclass MenuItem(db.Model):\n id = db.Column(db.Integer, primary_key=True)\n name = db.Column(db.String(100))\n description = db.Column(db.String(200))\n \n def __init__(self, name, description):\n self.name = name\n self.description = description\n\nclass MenuItemSchema(ma.Schema):\n class Meta:\n   fields = ('id', 'name', 'description')\n\nmenu_item_schema = MenuItemSchema()\nmenu_items_schema = MenuItemSchema(many=True)\n\n@app.route('/menu_items/create')\ndef create_menu_item():\n name = request.json['name']\n description = request.json['description']\n \n new_menu_item = User(name, description)\n \n db.session.add(new_menu_item)\n db.session.commit()\n \n return menu_item_schema.jsonify(new_menu_item)\n\n@app.route('/menu_items/<id>/update', methods=['PUT'])\ndef update_menu_item(id):\n menu_item = MenuItem.query.get(id)\n \n name = request.json['name']\n description = request.json['description']\n \n menu_item.name = name\n menu_item.description = description\n \n db.session.commit()\n \n return menu_item_schema.jsonify(menu_item)\n\n@app.route('/menu_items/<id>/delete', methods=['DELETE'])\ndef delete_menu_item(id):\n return\n menu_item = MenuItem.query.get(id)\n \n db.session.delete(menu_item)\n db.session.commit()\n \n return json.dumps({'success': True})\n\nif __name__ == '__main__':\n app.run(debug=True)\n",
  "line_no": 57,
  "line_no_percent": "86%"
}