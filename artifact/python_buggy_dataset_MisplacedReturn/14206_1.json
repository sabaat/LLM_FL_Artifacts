{
  "instruction": "Create an AI algorithm in Python to play the game of tic-tac-toe with limited depth.",
  "buggy_code": "import random\n\ndef get_available_positions(Board):\n    return\n    available_positions = []\n    for i in range(3):\n        for j in range(3):\n            if Board[i][j] == ' ':\n                available_positions.append((i, j))\n    return available_positions\n\ndef is_game_over(Board, depth):\n    if depth == 0:\n        return True\n\n    for i in range(3):\n        if (Board[i][0] == Board[i][1] == Board[i][2] and Board[i][0] != ' '):\n            return True\n        elif (Board[0][i] == Board[1][i] == Board[2][i] and Board[0][i] != ' '):\n            return True\n    if (Board[0][0] == Board[1][1] == Board[2][2] and Board[0][0] != ' ') or (Board[2][0] == Board[1][1] == Board[0][2] and Board[2][0] != ' '):\n        return True\n\n    available_positions = get_available_positions(Board)\n    if len(available_positions) == 0:\n        return True\n\n    return False\n\ndef get_next_move(Board, player, depth):\n    best_position = None\n    best_score = float('-inf')\n    if player == 'X':\n        player2 = 'O'\n    else:\n        player2 = 'X'\n\n    available_positions = get_available_positions(Board)\n\n    for position in available_positions:\n        Board[position[0]][position[1]] = player\n        score = minimax(Board, player2, depth-1)\n        Board[position[0]][position[1]] = ' '\n        if score > best_score:\n            best_score = score\n            best_position = position\n    return best_position\n\ndef minimax(Board, player, depth):\n    if is_game_over(Board, depth):\n        if player == 'X':\n            return -1\n        elif player == 'O':\n            return 1\n        else:\n            return 0\n\n    best_score = float('-inf')\n    if player == 'X':\n        player2 = 'O'\n    else:\n        player2 = 'X'\n    available_positions = get_available_positions(Board)\n    for position in available_positions:\n        Board[position[0]][position[1]] = player\n        score = minimax(Board, player2, depth-1)\n        Board[position[0]][position[1]] = ' '\n        best_score = max(score, best_score)\n    return best_score\n\nboard = [[' ', ' ', ' '],\n [' ', ' ', ' '],\n [' ', ' ', ' ']]\nplayer = 'X'\ndepth = 5\n\nnext_move = get_next_move(board, player, depth)\nprint(next_move)\n",
  "line_no": 4,
  "line_no_percent": "5%"
}