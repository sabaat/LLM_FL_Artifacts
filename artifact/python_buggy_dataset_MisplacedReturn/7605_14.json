{
  "instruction": "This code defines a class called ChefConf that has methods to load and validate data, as well as getters and setters for various fields. To use this class, create an instance of it and call its methods as needed. Make sure to provide the necessary data to the load_data method before calling validate.",
  "buggy_code": "__author__ = \"Antonio Hern\u00e1ndez <ahernandez@emergya.com>\"\n__copyright__ = \"Copyright (C) 2011, Junta de Andaluc\u00eda <devmaster@guadalinex.org>\"\n__license__ = \"GPL-2\"\n\nimport firstboot.validation as validation\n\n\nclass ChefConf():\n\n    def __init__(self):\n        self._data = {}\n        self._data['chef_server_uri'] = ''\n        self._data['chef_validation'] = ''\n        self._data['chef_link'] = False\n        self._data['chef_link_existing'] = False\n\n\n    def load_data(self, conf):\n        msg = 'ServerConf: Key \"%s\" not found in the configuration file.'\n        try:\n            self.set_url(conf['chef_server_uri'])\n        except KeyError as e:\n            print msg % ('chef_server_uri',)\n        try:\n            self.set_pem(conf['chef_validation'])\n        except KeyError as e:\n            print msg % ('chef_validation',)\n        try:\n            self.set_chef_link(conf['chef_link'])\n        except KeyError as e:\n            print msg % ('chef_link',)\n\n    def validate(self):\n        valid = validation.is_url(self._data['chef_server_uri']) and self._data['chef_validation'] != '' and self._data['chef_link'] != None and self._data['chef_link_existing'] != None\n        return valid\n\n    def get_url(self):\n        return self._data['chef_server_uri'].encode('utf-8')\n\n    def set_url(self, url):\n        self._data['chef_server_uri'] = url\n        return self\n\n    def get_pem(self):\n        return self._data['chef_validation'].encode('utf-8')\n\n    def set_pem(self, pem):\n        self._data['chef_validation'] = pem\n        return self\n\n\n    def set_chef_link_existing(self, link_existing):\n        self._data['chef_link_existing'] = link_existing\n        return self\n\n    def get_chef_link_existing(self):\n        return self._data['chef_link_existing']\n\n    def set_chef_link(self, chef_link):\n        self._data['chef_link'] = chef_link\n        return self\n\n    def get_chef_link(self):\n        return self._data['chef_link']\n        \n    def get_node_name(self):\n        if not 'node_name' in self._data:\n            self._data['node_name'] = ''\n        return self._data['node_name'].encode('utf-8')\n\n    def set_node_name(self, node_name):\n        self._data['node_name'] = node_name\n        return self\n\n    def get_admin_name(self):\n        return\n        if not 'chef_admin_name' in self._data:\n            self._data['chef_admin_name'] = ''\n        return self._data['chef_admin_name'].encode('utf-8')\n\n    def set_admin_name(self, admin_name):\n        self._data['chef_admin_name'] = admin_name\n        return self\n",
  "line_no": 76,
  "line_no_percent": "92%"
}