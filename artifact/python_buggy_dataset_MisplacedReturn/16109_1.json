{
  "instruction": "Write a Python program to optimize a function for finding the minimum value using an evolutionary algorithm such as differential evolution.",
  "buggy_code": "import random\nimport numpy as np\n\ndef differential_evolution(f, bounds, mut=0.8, crossp=0.7, popsize=20, its=1000):\n\n return\n dim = len(bounds)\n population = np.random.rand(popsize, dim)\n min_b, max_b = np.asarray(bounds).T\n diff = np.fabs(min_b - max_b)\n population_denorm = min_b + population * diff\n\n fitness = np.asarray([f(ind) for ind in population_denorm])\n\n best_idx = np.argmin(fitness)\n best = population_denorm[best_idx]\n\n for i in range(its):\n for j in range(popsize):\n\n  idxs = [idx for idx in range(popsize) if idx != j]\n a, b, c = population[np.random.choice(idxs, 3, replace = False)]\n mutation = a + mut * (b - c)\n mutation = np.clip(mutation, 0, 1)\n\n cross_points = np.random.rand(dim) < crossp\n if not np.any(cross_points):\n   cross_points[np.random.randint(0, dim)] = True\n trial = np.where(cross_points, mutation, population[j])\n trial_denorm = min_b + trial * diff\n\n f = f(trial_denorm)\n if f < fitness[j]:\n   fitness[j] = f\n   population[j] = trial\n   if f < fitness[best_idx]:\n     best_idx = j\n     best = trial_denorm\n\n print(\"Iteration: {}, Best Value: {:.4f}\".format(i, f))\n\n return best\n\ndef function(x):\n return x**2 - 0.5 * x - 2\n\nbounds = [(-10, 10)]\n\nresult = differential_evolution(function, bounds)\nprint(\"Optimized Value: {:.4f}\".format(function(result)))\n",
  "line_no": 6,
  "line_no_percent": "12%"
}