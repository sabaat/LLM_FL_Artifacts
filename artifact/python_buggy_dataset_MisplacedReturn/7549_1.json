{
  "instruction": "Implement a Naive Bayes algorithm in Python to classify comments into spam and non-spam categories.",
  "buggy_code": "import numpy as np\n\nwords = {\n 'come': ['spam', 'ham'],\n 'free': ['spam', 'ham'],\n 'money': ['spam', 'ham'],\n 'here': ['spam', 'ham'],\n 'win': ['spam', 'ham'],\n 'now': ['spam', 'ham'],\n 'urgent': ['spam', 'ham'],\n 'discount': ['spam', 'ham'],\n 'buy': ['spam', 'ham'],\n 'promo': ['spam', 'ham'],\n}\n\nspam_words = 0\nham_words = 0\n\nfor key in words.keys():\n if 'spam' in words[key]:\n  spam_words += 1\n if 'ham' in words[key]:\n  ham_words += 1\n\nP_spam = spam_words / (spam_words + ham_words)\nP_ham = ham_words / (spam_words + ham_words)\n\nwords_spam_prob = [0] * len(words)\nwords_ham_prob = [0] * len(words)\ni=0\n\nfor key in words.keys():\n if 'spam' in words[key]:\n  words_spam_prob[i] = words[key].count('spam') / spam_words\n if 'ham' in words[key]:\n  words_ham_prob[i] = words[key].count('ham') / ham_words\n i += 1\n\ndef classify(comment):\n return\n words_in_comment = comment.split()\n \n p_spam_comment = np.log(P_spam)\n p_ham_comment = np.log(P_ham)\n \n for word in words_in_comment:\n  if word in words:\n   p_spam_comment += np.log(words_spam_prob[list(words.keys()).index(word)])\n   p_ham_comment += np.log(words_ham_prob[list(words.keys()).index(word)])\n \n if p_spam_comment > p_ham_comment:\n  return 'spam'\n else:\n  return 'ham'\n",
  "line_no": 40,
  "line_no_percent": "74%"
}