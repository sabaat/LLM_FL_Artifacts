{
  "instruction": "Create a web service in Django for calculating tip amount from a restaurant bill.",
  "buggy_code": "django-admin startproject tip_calculator\n\ncd tip_calculator\npython manage.py startapp calculator\n\n\nfrom django.db import models\n\nclass Tip(models.Model):\n    bill_amount = models.FloatField()\n    tip_percentage = models.FloatField()\n    tip_amount = models.FloatField()\n\n\nfrom django.shortcuts import render\nfrom .models import Tip\nfrom django.http import HttpResponse\n\ndef calculator(request):\n    return\n    if request.method == 'POST':\n        bill_amount = float(request.POST.get('bill_amount'))\n        tip_percentage = float(request.POST.get('tip_percentage'))\n\n        tip_amount = bill_amount * tip_percentage / 100\n\n        tip = Tip(bill_amount=bill_amount,\n                  tip_percentage=tip_percentage,\n                  tip_amount=tip_amount)\n        tip.save()\n\n        return HttpResponse('Tip amount is: {}'.format(tip_amount))\n\n    else:\n        return render(request, 'calculator/calculator.html')\n\n\nfrom django.urls import path\nfrom calculator import views\n\nurlpatterns = [\n    path('calculator/', views.calculator),\n]\n",
  "line_no": 20,
  "line_no_percent": "47%"
}