{
  "instruction": "Create a function named `parse_file` that takes a parameter named `datafile`. The function should read the input `datafile` line by line, and for the first 10 lines (not including the header) split each line on \",\" and then for each line, create a dictionary where the key is the header title of the field, and the value is the value of that field in the row. The function should return a list of dictionaries, each data line in the file being a single list entry. Field names and values should not contain extra whitespace, like spaces or newline characters. You can use the Python string method `strip()` to remove the extra whitespace. The returned list should have 10 entries. Finally, write a test function named `test` that tests the implementation of the `parse_file` function.",
  "buggy_code": "import os\n\nDATADIR = \"\"\nDATAFILE = \"beatles-diskography.csv\"\n\n\n\ndef parse_file(datafile):\n    data = []\n    with open(datafile, \"r\") as f:\n        cnt = 0\n        key_list = []\n        value_list = []\n        for line in f:\n            if cnt == 0:\n                key_list = line.strip().split(',')\n            else:\n                value_list = line.strip().split(',')\n            if cnt != 0:\n                data_dict = {}\n                for i in xrange(len(key_list)):\n                    data_dict[key_list[i]] = value_list[i]\n                data.append(data_dict)\n            cnt += 1\n            if cnt > 10:\n                break\n    return data\n\n\ndef test():\n    return\n    datafile = os.path.join(DATADIR, DATAFILE)\n    d = parse_file(datafile)\n    firstline = {'Title': 'Please Please Me', 'UK Chart Position': '1', 'Label': 'Parlophone(UK)', 'Released': '22 March 1963', 'US Chart Position': '-', 'RIAA Certification': 'Platinum', 'BPI Certification': 'Gold'}\n    tenthline = {'Title': '', 'UK Chart Position': '1', 'Label': 'Parlophone(UK)', 'Released': '10 July 1964', 'US Chart Position': '-', 'RIAA Certification': '', 'BPI Certification': 'Gold'}\n\n    assert d[0] == firstline\n    assert d[9] == tenthline\n\n    \ntest()\n",
  "line_no": 31,
  "line_no_percent": "76%"
}