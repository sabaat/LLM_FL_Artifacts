{
  "instruction": "Create a Python module file named \"slot\" with a class named \"Slot\" that contains at least four methods: \"initialize\" for initializing resources, \"__enter__\" for getting next data to process, \"slot\" for user custom code, and \"__exit__\" for when the slot is finished. Override the \"initialize\", \"__enter__\", \"__exit__\", and \"slot\" methods in the subclass as needed. Return False in \"__enter__\" when there is no data to process. Add custom code to the \"slot\" method.",
  "buggy_code": "class Slot(object):\n    \"\"\"\n    To use comb, you should create a python module file. we named *slot*.\n\n    A legal slot must be named 'Slot' in your module file and it must be at least contain four method:\n\n    * `initialize`\n\n    initial resource, e.g: database handle\n\n    * `__enter__`\n\n    get next data to do,you can fetch one or more data.\n\n    * `slot`\n\n    user custom code\n\n    * `__exit__`\n\n    when slot finished, call this method\n\n    \"\"\"\n\n    def __init__(self, combd):\n        \"\"\"Don't override this method unless what you're doing.\n\n        \"\"\"\n\n        self.threads_num = combd.threads_num\n        self.sleep = combd.sleep\n        self.sleep_max = combd.sleep_max\n        self.debug = combd.debug\n        self.combd = combd\n\n        self.initialize()\n\n\n    def initialize(self):\n        \"\"\"Hook for subclass initialization.\n        \n        This block is execute before thread initial\n        \n        Example::\n\n            class UserSlot(Slot):\n                def initialize(self):\n                    self.threads_num = 10 \n\n                def slot(self, result):\n                    return\n                    ...\n        \n        \"\"\"\n        pass\n\n    def __enter__(self):\n        \"\"\"You **MUST** return False when no data to do.\n\n        The return value will be used in `Slot.slot`\n        \"\"\"\n        print(\"You should override __enter__ method by subclass\")\n        return False\n\n\n    def __exit__(self, exc_type, exc_val, exc_tb):\n        \"\"\"When slot done, will call this method.\n        \"\"\"\n        print(\"You should override __exit__ method by subclass\")\n        pass\n\n\n    def slot(self, msg):\n        \"\"\"\n        Add your custom code at here.\n\n        For example, look at:\n\n        * `comb.demo.list`\n\n        * `comb.demo.mongo`\n\n        * `comb.demo.redis`\n\n\n        \"\"\"\n\n        pass\n",
  "line_no": 51,
  "line_no_percent": "58%"
}