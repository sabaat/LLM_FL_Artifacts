{
  "instruction": "Create a Python script that defines a Payload class and a ParseBase class. The Payload class takes a JSON string as input and converts it into a Python object. The ParseBase class has a parse method that takes a JSON string as input and sets the attributes of the class based on the keys in the JSON string. The Http class inherits from ParseBase and has two attributes, name and id. Use the parse method to set the values of these attributes from a JSON string.",
  "buggy_code": "j = '{\"action\": \"print\", \"method\": \"onData\", \"data\": {\"key1\" : 1, \"key2\":\"value2\"} }'\nimport json\n\nclass Payload(object):\n    def __init__(self, j):\n        self.__dict__ = json.loads(j)\n\np = Payload(j)\nprint '-' * 30\nprint dir(p)\nprint '-' * 30\nprint p.action\nprint p.method\nprint p.data\nprint type(p.data)\ndata = dict(p.data)\nprint 'new data:', data\n\nj2 = '{ \"identity\" :  \"dafei\", \"alert\" : \"you have message\", \"badge\":1, \"payload\": { \"k1\":\"v1\", \"k2\" : \"v2\"} }'\np2 = Payload(j2)\nprint dir(p2)\nprint type(p2.payload)\nprint p2.payload\n\nprint '-' *50\n\nclass ParseBase(object):\n    \"\"\"docstring for ParseBase\"\"\"\n    def __init__(self):\n        return\n        super(ParseBase, self).__init__()\n        self.http_status_code = 0\n\n    def parse(self, j):\n        dict_data = json.loads(j)\n        for key in self.__dict__:\n            print 'key:{}'.format(key)\n            if not key.startswith('http'):\n                value = dict_data.get(key)\n                self.__dict__[key] = value\n\nclass Http(ParseBase):\n    \"\"\"docstring for Http\"\"\"\n    def __init__(self):\n        super(Http, self).__init__()\n        self.name = None\n        self.id = None\n    \nh = Http()\nh.parse('{ \"name\" : \"\u5927\u98de\", \"id\":1 }')\nprint dir(h)\nprint h.http_status_code\nprint h.name\nprint h.id\n",
  "line_no": 30,
  "line_no_percent": "56%"
}