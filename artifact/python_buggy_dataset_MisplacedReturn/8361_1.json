{
  "instruction": "To retrieve real-time air pollution data for a specific location in Korea, follow these steps:\n\n1. Obtain a service key from data.go.kr.\n2. Open the mdust_pusan.py file in Python.\n3. Change the location variable in the misaemunji function to the desired location (e.g. '\uacbd\uae30').\n4. Run the script using the command \"python mdust_pusan.py\".\n5. The script will output the real-time air pollution data for the specified location and station in the console.",
  "buggy_code": "'''\n    \ubd80\uc0b0 URL= http://openapi.airkorea.or.kr/openapi/services/rest/ArpltnInforInqireSvc/getCtprvnRltmMesureDnsty?serviceKey=fCRWi0DoCfoCPMHyDwai3trva10y4qb8mh9aysoHzvLKDWw6Q2bWOsvuM4%2BsRdvE4dPiKqBFD7vj7%2FM2noCe2g%3D%3D&ver=1.3&pageSize=10&pageNo=1&sidoName=%EB%B6%80%EC%82%B0&startPage=1&numOfRows=100\n\n    \uc2e4\ud589 \ubc29\ubc95=  $python mdust_pusan.py\n    (\uc9c0\uc5ed\uc744 \ubc14\uafb8\uace0 \uc2f6\uc73c\uba74 misaemunji \ud568\uc218 \uc548\uc5d0 location = '\uacbd\uae30'  \uc640 \uac19\uc740 \uc2dd\uc73c\ub85c \ubcc0\uacbd)\n    (\uce21\uc815 \uac00\ub2a5 \uc9c0\uc5ed: \uc11c\uc6b8, \ubd80\uc0b0, \ub300\uad6c, \uc778\ucc9c, \uad11\uc8fc, \ub300\uc804, \uc6b8\uc0b0, \uacbd\uae30, \uac15\uc6d0, \ucda9\ubd81, \ucda9\ub0a8, \uc804\ubd81, \uc804\ub0a8, \uacbd\ubd81, \uacbd\ub0a8, \uc81c\uc8fc, \uc138\uc885)\n    '''\n    \nimport requests\nfrom urllib import urlencode, quote_plus\nfrom bs4 import BeautifulSoup\nimport pandas as pd\nimport keytxt\n\n\nservice_key = keytxt.key\n\ndef misaemunji(service_key, location=None, spot=None):\n\n    return\n    \n    URL ='http://openapi.airkorea.or.kr/openapi/services/rest/ArpltnInforInqireSvc/getCtprvnRltmMesureDnsty?serviceKey='\n\n    queryParams = '&' + urlencode({quote_plus('numOfRows') : '100', # \ucd5c\ub300\ub85c \uc124\uc815\n                                   quote_plus('pageSize'): '10',\n                                   quote_plus('pageNo') : '1',\n                                   quote_plus('startPage') :'1',\n                                   quote_plus('sidoName') : location,\n                                   quote_plus('ver') : '1.3'\n                                   })\n\n    if location == None : \n        exit ('you shoud write location such like \ubd80\uc0b0')\n\n    r = requests.get(URL+service_key+queryParams)\n    html = r.text\n    soup = BeautifulSoup(html, 'html.parser') #parsing\n    info_ = soup.select('item')\n\n    misae_station = {}\n    for info__ in info_:\n        datetime_ = info__.datatime.text \n        list_ = [str(info__.pm10value.text),str(info__.pm25value.text)]\n        misae_station[info__.stationname.text.encode('utf-8')] =list_\n    \n    index_list = ['\ubbf8\uc138\uba3c\uc9c010','\ucd08\ubbf8\uc138\uba3c\uc9c02.5']\n    df = pd.DataFrame(misae_station, index = index_list) \n    if spot != None :\n        if spot in misae_station:\n            '''\n            print('\uce21\uc815\uc2dc\uac04 : ' + str(datetime_)), 2018-11-08 20:00\n            print('\uce21\uc815\uc9c0\uc5ed : ')\n            print(location)\n            print(spot) \n            print('(\ub2e8\uc704 : \u338d/\u33a5)')\n            print misae_station[spot][1]\n                '''\n            return (str(datetime_), str(spot), 'pm2.5', misae_station[spot][1]  )\n    \ndef get_public_mise(loc='\uc11c\uc6b8', station='\uac15\ub0a8\uad6c'):\n    \n    kangnam = misaemunji(service_key, location=loc, spot=station) \n    return kangnam\n\nif __name__ == '__main__':\n    \n    kangnam = misaemunji(service_key, location='\uc11c\uc6b8', spot='\uac15\ub0a8\uad6c') \n    print kangnam\n",
  "line_no": 20,
  "line_no_percent": "29%"
}