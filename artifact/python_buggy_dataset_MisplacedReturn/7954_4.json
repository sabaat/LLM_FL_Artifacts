{
  "instruction": "Create a REST API using the Flask framework in Python to create, read, update and delete records from a database.",
  "buggy_code": "from flask import Flask, request\nfrom flask_restful import Resource, Api\nfrom flask_sqlalchemy import SQLAlchemy\n\napp = Flask(__name__)\n\napp.config['SQLALCHEMY_DATABASE_URI'] = 'YOUR DB URI'\ndb = SQLAlchemy(app)\n\nclass TableRow(db.Model):\n  id = db.Column(db.Integer, primary_key=True)\n  name = db.Column(db.String(50), nullable=False)\n  description = db.Column(db.String(50), nullable=False)\n\napi = Api(app)\n\nclass CreateRecord(Resource):\n  def post(self):\n    json_data = request.get_json()\n    new_record = TableRow(name=json_data['name'], description=json_data['description'])\n    db.session.add(new_record)\n    db.session.commit()\n    return {'status': 'success'}, 201\n\nclass ReadRecord(Resource):\n  def get(self, id):\n    record = TableRow.query.filter_by(id=id).first()\n    if record:\n        return {'name': record.name, 'description': record.description}, 200\n    return {'status': 'not found'}, 404\n\nclass UpdateRecord(Resource):\n  def put(self, id):\n    record = TableRow.query.filter_by(id=id).first()\n    if record:\n        json_data = request.get_json()\n        record.name = json_data['name']\n        record.description = json_data['description']\n        db.session.commit()\n        return {'status': 'success'}, 200\n    return {'status': 'not found'}, 404\n\nclass DeleteRecord(Resource):\n  def delete(self, id):\n    return\n    record = TableRow.query.filter_by(id=id).first()\n    if record:\n        db.session.delete(record)\n        db.session.commit()\n        return {'status': 'success'}, 200\n    return {'status': 'not found'}, 404\n\napi.add_resource(CreateRecord, '/create')\napi.add_resource(ReadRecord, '/read/<int:id>')\napi.add_resource(UpdateRecord, '/update/<int:id>')\napi.add_resource(DeleteRecord, '/delete/<int:id>')\n\nif __name__ == '__main__':\n  app.run(debug=True)\n",
  "line_no": 45,
  "line_no_percent": "76%"
}