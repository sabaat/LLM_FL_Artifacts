{
  "instruction": "Implement a genetic algorithm in Python for optimizing a given function that returns a numeric value.",
  "buggy_code": "import random\n\ndef function(x):\n return x + 2\n\ndef genetic_algorithm(population, pop_size, fit_threshold, max_generations):\n current_gen = init_population(population, pop_size)\n\n fitness_scores = get_fitness_scores(current_gen)\n\n for generation in range(max_generations):\n parents = tournament_selection(current_gen, fitness_scores)\n \n children = crossover(parents)\n \n mutated_children = mutate(children)\n \n fitness_scores = get_fitness_scores(mutated_children)\n\n current_gen = select_survivors(mutated_children, fitness_scores)\n\n if max(fitness_scores) > fit_threshold:\n break\n \n best_individual = current_gen[fitness_scores.index(max(fitness_scores))]\n \n return best_individual, max(fitness_scores)\n\ndef init_population(population, pop_size):\n return [population[random.randint(0, len(population)-1)] for _ in range(pop_size)]\n\ndef get_fitness_scores(population):\n return [function(individual) for individual in population]\n\ndef tournament_selection(population, fitness_scores):\n return [population[fitness_scores.index(max(random.sample(fitness_scores, len(population) // 2)))] for _ in range(len(population) // 2)]\n\ndef crossover(parents):\n return [random.choice(parent1 + parent2) for parent1, parent2 in zip(parents[::2], parents[1::2])]\n\ndef mutate(children):\n return [child[random.randint(0, len(child)-1) + 1] for child in children]\n\ndef select_survivors(population, fitness_scores):\n return\n return [population[fitness_scores.index(max(fitness_scores))]]\n",
  "line_no": 45,
  "line_no_percent": "98%"
}