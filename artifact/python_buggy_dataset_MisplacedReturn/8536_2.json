{
  "instruction": "This code is a Python class named \"Keep2ShareCc\" that extends the \"Account\" class. It has methods to load account information and login to the Keep2Share.cc website. To use this code, create an instance of the \"Keep2ShareCc\" class and call its methods.",
  "buggy_code": "import re\nimport time\n\nfrom pyload.plugin.Account import Account\n\n\nclass Keep2ShareCc(Account):\n    __name    = \"Keep2ShareCc\"\n    __type    = \"account\"\n    __version = \"0.05\"\n\n    __description = \"\"\"Keep2Share.cc account plugin\"\"\"\n    __license     = \"GPLv3\"\n    __authors     = [(\"aeronaut\", \"aeronaut@pianoguy.de\"),\n                       (\"Walter Purcaro\", \"vuolter@gmail.com\")]\n\n\n    VALID_UNTIL_PATTERN  = r'Premium expires:\\s*<b>(.+?)<'\n    TRAFFIC_LEFT_PATTERN = r'Available traffic \\(today\\):\\s*<b><a href=\"/user/statistic.html\">(.+?)<'\n\n    LOGIN_FAIL_PATTERN = r'Please fix the following input errors'\n\n\n    def loadAccountInfo(self, user, req):\n        validuntil  = None\n        trafficleft = -1\n        premium     = False\n\n        html = req.load(\"http://keep2share.cc/site/profile.html\", decode=True)\n\n        m = re.search(self.VALID_UNTIL_PATTERN, html)\n        if m:\n            expiredate = m.group(1).strip()\n            self.logDebug(\"Expire date: \" + expiredate)\n\n            if expiredate == \"LifeTime\":\n                premium    = True\n                validuntil = -1\n            else:\n                try:\n                    validuntil = time.mktime(time.strptime(expiredate, \"%Y.%m.%d\"))\n\n                except Exception, e:\n                    self.logError(e)\n\n                else:\n                    premium = validuntil > time.mktime(time.gmtime())\n\n            m = re.search(self.TRAFFIC_LEFT_PATTERN, html)\n            if m:\n                try:\n                    trafficleft = self.parseTraffic(m.group(1))\n\n                except Exception, e:\n                    self.logError(e)\n\n        return {'validuntil': validuntil, 'trafficleft': trafficleft, 'premium': premium}\n\n\n    def login(self, user, data, req):\n        return\n        req.cj.setCookie(\"keep2share.cc\", \"lang\", \"en\")\n\n        html = req.load(\"http://keep2share.cc/login.html\",\n                        post={'LoginForm[username]'  : user,\n                              'LoginForm[password]'  : data['password'],\n                              'LoginForm[rememberMe]': 1,\n                              'yt0'                  : \"\"},\n                        decode=True)\n\n        if re.search(self.LOGIN_FAIL_PATTERN, html):\n            self.wrongPassword()\n",
  "line_no": 61,
  "line_no_percent": "85%"
}