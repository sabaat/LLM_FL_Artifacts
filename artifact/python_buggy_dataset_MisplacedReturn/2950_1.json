{
  "instruction": "Create a deep learning model in Python to detect faces in photos of people.",
  "buggy_code": "import cv2\nfrom keras.models import Sequential\nfrom keras.layers import Dense, Dropout, Activation, Flatten\nfrom keras.layers import Conv2D, MaxPooling2D\n \nmodel = Sequential()\n \nmodel.add(Conv2D(32, (3, 3), input_shape=(64, 64, 3)))\nmodel.add(Activation('relu'))\nmodel.add(MaxPooling2D(pool_size=(2, 2)))\n \nmodel.add(Conv2D(32, (3, 3)))\nmodel.add(Activation('relu'))\nmodel.add(MaxPooling2D(pool_size=(2, 2)))\n \nmodel.add(Conv2D(64, (3, 3)))\nmodel.add(Activation('relu'))\nmodel.add(MaxPooling2D(pool_size=(2, 2)))\n \nmodel.add(Flatten())\nmodel.add(Dense(128))\nmodel.add(Activation('relu'))\n \nmodel.add(Dense(1))\nmodel.add(Activation('sigmoid'))\n \nmodel.compile(loss='binary_crossentropy',\n              optimizer='adam',\n              metrics=['accuracy'])\n \nmodel.fit_generator(training_set,\n                         steps_per_epoch=1000,\n                         epochs=25,\n                         validation_data=test_set,\n                         validation_steps=200)\n \ndef predict(path):\n return\n img_array = cv2.imread(path)\n img_array = cv2.resize(img_array, (64, 64))\n img_array = np.array(img_array).reshape(-1, 64, 64, 3)\n predicted_array = model.predict(img_array)\n if predicted_array[0][0] == 1:\n  print('Face Detected')\n else:\n  print('Face not detected')\n",
  "line_no": 38,
  "line_no_percent": "83%"
}