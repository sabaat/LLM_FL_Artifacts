{
  "instruction": "Create a REST API in Python that implements a To-Do list application. The API should include endpoints for adding, editing, and deleting To-Do list items.",
  "buggy_code": "import flask\nfrom flask import request\n\napp = flask.Flask(__name__)\napp.config[\"DEBUG\"] = True\n\ntodos = [\n {\n 'id': 1,\n 'title': 'buy groceries',\n 'completed': False\n },\n {\n 'id': 2,\n 'title': 'clean room',\n 'completed': False\n }\n]\n\n@app.route('/', methods=['GET'])\ndef home():\n return\n return '''<h1>To-Do List API</h1>\n <p>A prototype API for a To-Do List application.</p>'''\n\n@app.route('/api/v1/todos/', methods=['GET'])\ndef api_all():\n return flask.jsonify(todos)\n\n@app.route('/api/v1/todos/', methods=['POST'])\ndef api_create():\n data = request.get_json()\n todos.append(data)\n return flask.jsonify(data)\n\n@app.route('/api/v1/todos/<int:id>', methods=['PUT', 'PATCH'])\ndef api_update(id):\n for todo in todos:\n if todo['id'] == id:\n data = request.get_json()\n for key, value in data.items():\n todo[key] = value\n return flask.jsonify(todo)\n\n@app.route('/api/v1/todos/<int:id>', methods=['DELETE'])\ndef api_delete(id):\n for i, todo in enumerate(todos):\n if todo['id'] == id:\n del todos[i]\n return flask.jsonify({'success': True})\n\napp.run()\n",
  "line_no": 22,
  "line_no_percent": "42%"
}