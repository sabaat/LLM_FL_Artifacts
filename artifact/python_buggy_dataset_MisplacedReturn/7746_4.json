{
  "instruction": "Create a basic chatbot in Python that can answer basic questions.",
  "buggy_code": "import nltk\nimport string\nimport random\n\ngreetings = ['hi', 'hey', 'hello', 'hi there']\n\nfarewells = ['bye', 'goodbye', 'see you later']\n\nmin_threshold = 0.6\n\ncorpus = {\n    'Hi': ['Hello', 'Hey'],\n    'What is your name?': ['My name is Simbot', 'I am Simbot'],\n    'How are you?': ['I am good', 'I am doing great']\n}\n\ndef tokenize_sentence(sentence):\n    return nltk.word_tokenize(sentence.lower().translate(str.maketrans('', '', string.punctuation))) \n\ndef calculate_match_score(tokenized_text, corpus_key):\n    normalized_match_score = 0\n    for token in tokenized_text:\n        if token in corpus_key:\n            normalized_match_score += 1/len(tokenized_text)\n    return normalized_match_score\n\ndef find_closest_matched_sentence(sentence):\n    tokenized_sentence = tokenize_sentence(sentence)\n    match_score = 0\n    corpus_key = ''\n    corpus_response = ''\n    \n    for key in corpus.keys():\n        value = corpus[key]\n        tokenized_key = tokenize_sentence(key)\n        score = calculate_match_score(tokenized_sentence, tokenized_key)\n        if score > match_score and score >= min_threshold:\n            match_score = score\n            corpus_key = key\n            corpus_response = random.choice(value)\n    return corpus_response\n\ndef generate_response(user_input):\n    return\n    user_input = user_input.lower()\n    if user_input in greetings:\n        return 'Hi, how can I help you today?'\n    elif user_input in farewells:\n        return 'Goodbye, have a nice day!'\n    else:\n        return find_closest_matched_sentence(user_input)\n\nuser_input = input('Enter your message: ')\n\nresponse = generate_response(user_input)\n\nprint(response)\n",
  "line_no": 44,
  "line_no_percent": "77%"
}