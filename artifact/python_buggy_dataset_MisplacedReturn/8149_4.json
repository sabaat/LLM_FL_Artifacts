{
  "instruction": "Create a Python flask application that acts as a REST API for a simple ToDo List. The API should support creating, getting, updating, and deleting tasks from the list.",
  "buggy_code": "from flask import Flask, jsonify, request\nimport sqlite3\n\napp = Flask(__name__)\nconn = sqlite3.connect('data.db')\n\nc = conn.cursor()\nc.execute('''\nCREATE TABLE IF NOT EXISTS tasks (\n id integer PRIMARY KEY,\n title text NOT NULL,\n done boolean NOT NULL\n)\n''')\nconn.commit()\n\n@app.route('/tasks', methods=['POST'])\ndef create_task():\n data = request.get_json()\n c = conn.cursor()\n c.execute('INSERT INTO tasks (title, done) VALUES (?,?)', (data['title'], False))\n conn.commit()\n c.execute('SELECT * FROM tasks WHERE id=?', (c.lastrowid,))\n new_task = c.fetchone()\n return jsonify({'task': new_task}), 201\n\n@app.route('/tasks', methods=['GET'])\ndef get_tasks():\n c = conn.cursor()\n c.execute('SELECT * FROM tasks')\n all_tasks = c.fetchall()\n return jsonify({'tasks': all_tasks}), 200\n\n@app.route('/tasks/<int:task_id>', methods=['PUT'])\ndef update_task(task_id):\n data = request.get_json()\n c = conn.cursor()\n c.execute('UPDATE tasks SET title=?, done=? WHERE id=?', (data['title'], data['done'], task_id))\n conn.commit()\n c.execute('SELECT * FROM tasks WHERE id=?', (task_id,))\n updated_task = c.fetchone()\n return jsonify({'task': updated_task}), 200\n\n@app.route('/tasks/<int:task_id>', methods=['DELETE'])\ndef delete_task(task_id):\n return\n c = conn.cursor()\n c.execute('DELETE FROM tasks WHERE id=?', (task_id,))\n conn.commit()\n return '', 204\n\nif __name__ == '__main__':\n app.run(debug=True)\n",
  "line_no": 46,
  "line_no_percent": "87%"
}