{
  "instruction": "Create a GUI class in Python using tkinter library to display a list of search results and allow the user to select and perform various actions on the chosen result. The class should have methods to show the list of search results, update the list, show the selected result, and update the selected result. The class should also have methods to watch, show, and download the selected result. The class should import the Play and Tools modules from the Bl and Lib packages respectively.",
  "buggy_code": "import tkinter\nimport tkinter.messagebox\n\nfrom Bl import Play\nfrom Lib import Tools\n\nclass GUI :\n\n\tdef __init__ (self, master) :\n\t\tself.master = master\n\t\tself.Tools = Tools.Tools()\n\t\tself.listRst = ''\n\t\tself.resRst = ''\n\t\tself.getDetail = ''\n\n\tdef showList (self, searchKey) :\n\t\trstWindow = tkinter.Toplevel()\n\t\trstWindow.title('\u8d44\u6e90\u5217\u8868')\n\t\trstWindow.resizable(width = 'false', height = 'false')\n\t\tif self.Tools.isWin() :\n\t\t\trstWindow.iconbitmap(self.Tools.getRes('biticon.ico'))\n\t\t\n\t\ttitleFrame = tkinter.Frame(rstWindow, bd = 0, bg=\"#444\")\n\t\ttitleFrame.pack(expand = True, fill = 'both')\n\n\t\ttitleLabel = tkinter.Label(titleFrame, text = '\u5173\u952e\u8bcd :\u300c ' + searchKey + ' \u300d\u7684\u641c\u7d22\u7ed3\u679c', fg = '#ddd', bg=\"#444\", font = (\"Helvetica\", \"12\"))\n\t\ttitleLabel.grid(row = 1, column = 1, pady = 10)\n\n\t\ttitleFrame.grid_columnconfigure(0, weight=1)\n\t\ttitleFrame.grid_columnconfigure(2, weight=1)\n\n\t\tself.frame = tkinter.Frame(rstWindow, bd = 0, bg=\"#222\")\n\t\tself.frame.pack(expand = True, fill = 'both')\n\n\t\tself.window = tkinter.Listbox(self.frame, height = 14, width = 40, bd = 0, bg=\"#222\", fg = '#ddd', selectbackground = '#116cd6', highlightthickness = 0)\n\t\tself.window.grid(row = 0, column = 0, padx = 10, pady = 10)\n\t\tself.window.bind('<Double-Button-1>', self.__getMovDetails)\n\n\t\ttry : \n\t\t\tself.window.delete(0, 100)\n\t\texcept : \n\t\t\tpass\n\n\tdef updateList (self) :\n\t\treturn\n\t\tif self.listRst != '' :\n\t\t\tidx = 0\n\t\t\tfor x in self.listRst :\n\t\t\t\tself.window.insert(idx, x['title'])\n\t\t\t\tidx += 1\n\t\telse :\n\t\t\tself.timer = self.frame.after(50, self.updateList)\n\n\tdef showRes (self) :\n\t\tself.resWindow = tkinter.Toplevel()\n\t\tself.resWindow.title(self.target['title'])\n\t\tself.resWindow.resizable(width = 'false', height = 'false')\n\t\tif self.Tools.isWin() :\n\t\t\tself.resWindow.iconbitmap(self.Tools.getRes('biticon.ico'))\n\t\tself.resWindow.config(background='#444')\n\n\t\tself.resFrame = tkinter.Frame(self.resWindow, bd = 0, bg=\"#444\")\n\t\tself.resFrame.grid(row = 0, column = 0, sticky = '')\n\n\t\tbtnZone = tkinter.Frame(self.resWindow, bd = 10, bg=\"#444\")\n\t\tbtnZone.grid(row = 1, column = 0, sticky = '')\n\n\t\tself.resList = tkinter.Listbox(self.resFrame, height = 8, width = 50, bd = 0, bg=\"#222\", fg = '#ddd',selectbackground = '#116cd6', highlightthickness = 0)\n\t\tself.resList.grid(row = 0, sticky = '')\n\n\t\tviewBtn = tkinter.Button(btnZone, text = '\u67e5\u770b\u8fde\u63a5', width = 10, fg = '#222', highlightbackground = '#444', command = self.__taskShow)\n\t\tviewBtn.grid(row = 0, column = 0, padx = 5)\n\n\t\twatchBtn = tkinter.Button(btnZone, text = '\u5728\u7ebf\u89c2\u770b', width = 10, fg = '#222', highlightbackground = '#444', command = self.__taskWatch)\n\t\twatchBtn.grid(row = 0, column = 1, padx = 5)\n\n\t\tdlBtn = tkinter.Button(btnZone, text = '\u79bb\u7ebf\u4e0b\u8f7d', width = 10, fg = '#222', highlightbackground = '#444', command = self.__taskDownload)\n\t\tdlBtn.grid(row = 0, column = 2, padx = 5)\n\n\tdef updateRes (self) :\n\t\tif self.resRst != '' :\n\t\t\tif len(self.resRst) > 0:\n\t\t\t\tidx = 0\n\t\t\t\tfor x in self.resRst :\n\t\t\t\t\tself.resList.insert(idx, x[0])\n\t\t\t\t\tidx += 1\n\t\t\telse :\n\t\t\t\tself.resList.insert(0, '\u8be5\u8d44\u6e90\u5df2\u88ab\u548c\u8c10\uff0c\u6682\u65f6\u65e0\u6cd5\u64ad\u653e\u3002')\n\t\telse :\n\t\t\tself.timer = self.resFrame.after(50, self.updateRes)\n\n\tdef __getMovDetails (self, event) : \n\t\tidx = int(self.window.curselection()[0])\n\n\t\tself.target = self.listRst[idx]\n\n\t\tself.getDetail(self.target)\n\n\tdef __getChoose (self) :\n\t\tif self.resList.curselection() == () :\n\t\t\ttkinter.messagebox.showinfo('Notice', '\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff01')\n\t\telse :\n\t\t\tidx = int(self.resList.curselection()[0])\n\n\t\t\ttarget = self.resRst[idx]\n\n\tdef __taskWatch (self) :\n\t\tif self.resList.curselection() == () :\n\t\t\ttkinter.messagebox.showinfo('\u63d0\u793a', '\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff01')\n\t\telse :\n\t\t\tidx = int(self.resList.curselection()[0])\n\n\t\t\ttarget = self.resRst[idx]\n\n\t\t\tPlayer = Play.Play(self.master)\n\t\t\tPlayer.watchLink(target)\n\n\tdef __taskShow (self) :\n\t\tif self.resList.curselection() == () :\n\t\t\ttkinter.messagebox.showinfo('\u63d0\u793a', '\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff01')\n\t\telse :\n\t\t\tidx = int(self.resList.curselection()[0])\n\n\t\t\ttarget = self.resRst[idx]\n\n\t\t\tPlayer = Play.Play(self.master)\n\t\t\tPlayer.showLink(target)\n\n\tdef __taskDownload (self) :\n\t\tif self.resList.curselection() == () :\n\t\t\ttkinter.messagebox.showinfo('\u63d0\u793a', '\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff01')\n\t\telse :\n\t\t\tidx = int(self.resList.curselection()[0])\n\n\t\t\ttarget = self.resRst[idx]\n\n\t\t\tPlayer = Play.Play(self.master)\n\t\t\tPlayer.dlLink(target)\n",
  "line_no": 45,
  "line_no_percent": "33%"
}