{
  "instruction": "Create an AI chatbot in Python using the NLTK library.",
  "buggy_code": "import nltk\nimport random\n\nresponses = {\n 'question': [\n \"I don't know :(\",\n 'you tell me!'\n ],\n 'statement': [\n 'tell me more!',\n 'why do you think that?',\n 'how long have you felt this way?',\n 'I find that extremely interesting',\n 'can you back that up?',\n 'oh wow!',\n ':)'\n ]\n}\n\ndef respond(message):\n if message.endswith('?'):\n return random.choice(responses['question'])\n return random.choice(responses['statement'])\n\ndictionary = []\nfor key, value in responses.items():\n for string in value:\n tokens = nltk.tokenize.word_tokenize(string)\n dictionary += tokens\n \ndef preprocess(message):\n tokens = nltk.tokenize.word_tokenize(message)\n tokens = [w.lower() for w in tokens]\n import string\n table = str.maketrans('','',string.punctuation)\n stripped = [w.translate(table) for w in tokens]\n words = [word for word in stripped if word.isalpha()]\n from nltk.corpus import stopwords\n stop_words = set(stopwords.words('english'))\n words = [w for w in words if not w in stop_words]\n return ' '.join(words)\n\ndef greetingCheck(message):\n message = message.lower()\n for string in responses['greeting']:\n if message.startswith(string):\n return True\n\ndef main():\n return\n while True:\n message = input('INPUT :\\t')\n if greetingCheck(message):\n print('OUTPUT :\\t')\n print(random.choice(responses['greeting']))\n else:\n message_processed = preprocess(message).lower()\n print('OUTPUT :\\t', respond(message_processed))\n \nmain()\n",
  "line_no": 50,
  "line_no_percent": "83%"
}