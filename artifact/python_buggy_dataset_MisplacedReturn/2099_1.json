{
  "instruction": "To run Scalability-1, follow the instructions in the README.md file. The code imports modules and defines variables and functions necessary for the program to run. To execute the program, run the main function. The program measures the scalability of a clustering algorithm using instance matrices and outputs statistics to a specified directory. Edit the parameters in the params dictionary to adjust the clustering algorithm's performance.",
  "buggy_code": "'''Run Scalability-1.\nSee README.md for details.\n'''\n\nimport sys, subprocess, os.path\nfrom Util import intersperse\n\ndef main():\n    return\n    skip = {\n        'Measure' : False,\n    }\n        \n    basedir = ''\n\n    dirs = {\n        'Instances' : os.path.join(basedir, 'Data', 'Instances'),\n        'Statistics' : os.path.join(basedir, 'Data', 'Statistics', 'Scalability-1'),\n        'Bin' : '../../Build',\n    }\n    \n    files = {\n        'Instances' : [\n            os.path.join(dirs['Instances'], 'instances500.csv'),\n            os.path.join(dirs['Instances'], 'instances1000.csv'),\n            os.path.join(dirs['Instances'], 'instances2500.csv'),\n            os.path.join(dirs['Instances'], 'instances5000.csv'),\n            os.path.join(dirs['Instances'], 'instances7500.csv'),\n            os.path.join(dirs['Instances'], 'instances10000.csv')\n        ],\n    }\n    \n    progs = {\n        'Scalability' : os.path.join(dirs['Bin'],'Experiments/02-ScalabilityOfClusteringAlgorithm/Scalability'),\n    }\n    \n    params = {\n        'clusters' : [4, 8, 16, 32, 64],\n        'histograms' : 7*8, # 7 scales * 8 features\n        'burnin' : 10,\n        'iterations' : 100,\n        'branching' : 1,\n    }\n       \n    if skip['Measure']:\n        print( 'Skipping: Measure' )\n    else:\n        print( 'Measuring' )\n        for instanceMatrix in files['Instances']:\n            args = [\n                progs['Scalability'],\n                '--input', instanceMatrix,\n                '--nHistograms', \"%d\" % params['histograms'],\n                '--output', os.path.join(dirs['Statistics'], 'stats_' + os.path.basename(instanceMatrix)),\n                '--burnin', \"%d\" % params['burnin'],\n                '--iterations', \"%d\" % params['iterations'],\n                '--branching', \"%d\" % params['branching']\n            ] + list(intersperse('--clusters', (\"%d\" % k for k in params['clusters'])))\n        \n            print(' '.join(args))        \n            if subprocess.call( args ) != 0:\n                print( 'Error measuring', instanceMatrix )\n                return 1\n    return 0\n\nif __name__ == '__main__':\n    sys.exit( main() )\n",
  "line_no": 9,
  "line_no_percent": "13%"
}