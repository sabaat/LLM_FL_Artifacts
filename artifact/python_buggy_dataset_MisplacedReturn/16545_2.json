{
  "instruction": "Build a REST API using Python Flask for adding, updating, and deleting blog posts.",
  "buggy_code": "from flask import Flask, request, jsonify\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_marshmallow import Marshmallow\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///blog.sqlite3'\n\ndb = SQLAlchemy(app)\nma = Marshmallow(app)\n\nclass BlogPost(db.Model):\n id = db.Column(db.Integer, primary_key=True)\n title = db.Column(db.String(100), nullable=False)\n content = db.Column(db.Text, nullable=False)\n\nclass BlogPostSchema(ma.Schema):\n class Meta:\n fields = ('id', 'title', 'content')\n\nblog_post_schema = BlogPostSchema()\nblog_posts_schema = BlogPostSchema(many=True)\n\n@app.route('/blog-post', methods=['POST'])\ndef add_blog_post():\n title = request.json['title']\n content = request.json['content']\n \n new_blog_post = BlogPost(title=title, content=content)\n \n db.session.add(new_blog_post)\n db.session.commit()\n \n blog_post = BlogPost.query.get(new_blog_post.id)\n \n return blog_post_schema.jsonify(blog_post)\n\n@app.route('/blog-post/<id>', methods=['PUT'])\ndef update_blog_post(id):\n return\n blog_post = BlogPost.query.get(id)\n \n title = request.json['title']\n content = request.json['content']\n \n blog_post.title = title\n blog_post.content = content\n \n db.session.commit()\n \n return blog_post_schema.jsonify(blog_post)\n\n@app.route('/blog-post/<id>', methods=['DELETE'])\ndef delete_blog_post(id):\n blog_post = BlogPost.query.get(id)\n db.session.delete(blog_post)\n db.session.commit()\n \n return blog_post_schema.jsonify(blog_post)\n\nif __name__ == '__main__':\n app.run(debug=True)\n",
  "line_no": 39,
  "line_no_percent": "64%"
}