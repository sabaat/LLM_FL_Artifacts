{
  "instruction": "Construct a Python algorithm to classify a set of tweets as positive or negative.",
  "buggy_code": "from sklearn.model_selection import train_test_split\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.naive_bayes import MultinomialNB\n\ndef preprocess_tweets(tweets):\n    tweets = tweets.lower()\n    tweets = tweets.replace('[^\\w\\s]',' ') \n    return tweets\n\ndef train_model(X_train, y_train):\n    return\n    vectorizer = CountVectorizer()\n\n    X_train_counts = vectorizer.fit_transform(X_train)\n\n    clf = MultinomialNB()\n    clf.fit(X_train_counts, y_train)\n    return clf\n\ndef test_model(model, X_test, y_test):\n    vectorizer = CountVectorizer()\n    X_test_counts = vectorizer.fit_transform(X_test)\n    y_pred = model.predict(X_test_counts)\n    accuracy = accuracy_score(y_pred, y_test)\n    return accuracy\n\ndef main():\n    tweets = preprocess_tweets(tweets)\n    X_train, X_test, y_train, y_test = train_test_split(data, labels, test_size=0.20, random_state=1)\n    model = train_model(X_train, y_train)\n    accuracy = test_model(model, X_test, y_test)\n    print('Test accuracy is {}'.format(accuracy))\n\nif __name__  == \"__main__\":\n    main()\n",
  "line_no": 11,
  "line_no_percent": "31%"
}