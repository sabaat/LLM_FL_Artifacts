{
  "instruction": "Design a reinforcement learning agent in Python that can play tic-tac-toe and beat humans.",
  "buggy_code": "import random\nimport numpy as np\n\nboard = np.zeros((3,3))\n\n1  reward for winning\n-1 reward for loosing\n\nepsilon = 0.2\ngamma = 0.9\nreward = 0\n\ndef bestMove(board):\n\tbestScore = 0\n\tfor i in range(3):\n\t\tfor j in range(3):\n\t\t\tif board[i][j] == 0:\n\t\t\t\tboard[i][j] = 1\n\t\t\t\tscore = minimax(board, False)\n\t\t\t\tboard[i][j] = 0\n\t\t\t\tif score > bestScore:\n\t\t\t\t\tbestScore = score\n\t\t\t\t\tmove = [i, j]\n\treturn move\t\t\t\n\ndef minimax(board, isMaximizing):\n\tif checkWin(board):\n\t\treturn reward\n\t\t\n\tif isMaximizing:\n\t\tbestScore = -float(\"inf\")\n\t\tfor i in range(3):\n\t\t\tfor j in range(3):\n\t\t\t\tif board[i][j] == 0:\n\t\t\t\t\tboard[i][j] = 1\n\t\t\t\t\tscore = minimax(board, False)\n\t\t\t\t\tboard[i][j] = 0\n\t\t\t\t\tbestScore = max(score, bestScore)\n\t\treturn bestScore\n\t\n\telse:\n\t\tbestScore = float(\"inf\")\n\t\tfor i in range(3):\n\t\t\tfor j in range(3):\n\t\t\t\tif board[i][j] == 0:\n\t\t\t\t\tboard[i][j] = -1\n\t\t\t\t\tscore = minimax(board, True)\n\t\t\t\t\tboard[i][j] = 0\n\t\t\t\t\tbestScore = min(score, bestScore)\n\t\treturn bestScore\n\ndef checkWin(board):\n\treturn\n\tfor i in range(3):\n\t\tif board[i][0] == board[i][1] and board[i][1] == board[i][2] and board[i][0] != 0:\n\t\t\treturn board[i][0]\n\tfor i in range(3):\n\t\tif board[0][i] == board[1][i] and board[1][i] == board[2][i] and board[0][i] != 0:\n\t\t\treturn board[0][i]\n\tif board[0][0] == board[1][1] and board[1][1] == board[2][2] and board[0][0] != 0:\n\t\treturn board[0][0]\n\tif board[0][2] == board[1][1] and board[1][1] == board[2][0] and board[0][2] != 0:\n\t\treturn board[0][2]\n\treturn 0\n",
  "line_no": 53,
  "line_no_percent": "83%"
}