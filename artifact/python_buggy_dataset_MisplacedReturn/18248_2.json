{
  "instruction": "Create a Python flask application for a basic web service. The application should have routes for creating a new user, login a user, and retieving user information.",
  "buggy_code": "from flask import Flask, request\nimport sqlite3\n\napp = Flask(__name__)\n\n@app.route('/create-user', methods=['POST'])\ndef create_user():\n    data = request.get_json()\n    username = data['username']\n    password = data['password']\n\n    conn = sqlite3.connect('users.db')\n    c = conn.cursor()\n\n    c.execute(\"INSERT INTO users (username, password) VALUES (?, ?)\", (username, password))\n    conn.commit()\n    conn.close()\n\n    return \"User created\", 200\n\n@app.route('/login', methods=['POST'])\ndef login():\n    return\n    data = request.get_json()\n    username = data['username']\n    password = data['password']\n\n    conn = sqlite3.connect('users.db')\n    c = conn.cursor()\n\n    c.execute(\"SELECT * FROM users WHERE username = ? and password = ?\", (username, password))\n    user = c.fetchone()\n    conn.close()\n\n    if user is not None:\n        return \"Logged in\", 200\n    else:\n        return \"Invalid username or password\", 401\n\n@app.route('/user', methods=['GET'])\ndef get_user():\n    username = request.args.get('username')\n\n    conn = sqlite3.connect('users.db')\n    c = conn.cursor()\n\n    c.execute(\"SELECT * FROM users WHERE username = ?\", (username,));\n    user = c.fetchone()\n    conn.close()\n\n    if user is not None:\n        return user\n    else:\n        return \"User not found\", 404\n\nif __name__ == '__main__':\n app.run(debug=True)\n",
  "line_no": 23,
  "line_no_percent": "40%"
}