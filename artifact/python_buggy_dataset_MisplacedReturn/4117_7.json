{
  "instruction": "Design an AI agent in Python to play a game of Tic-Tac-Toe.",
  "buggy_code": "import random\nimport numpy as np\n\nBOARD_SIZE = 3\nPLAYER = 1  # player is X\nAI = 2  # AI is O\n\ndef create_board():\n  board = np.zeros((BOARD_SIZE, BOARD_SIZE)) # board is 3x3 array of 0's\n  return board\n\ndef valid_space(board, position):\n  if position[0] < 0 or position[0] >= BOARD_SIZE:\n    return False\n  elif position[1] < 0 or position[1] >= BOARD_SIZE:\n    return False\n  elif board[position[0], position[1]] != 0:\n    return False\n  else:\n    return True\n\ndef make_move(board, pos, symbol):\n  board[pos[0], pos[1]] = symbol\n\ndef ai_move(board, symbol):\n  pos = random.choice(list(zip(*np.where(board == 0)))) # pick random empty space\n  make_move(board, pos, symbol)\n\ndef player_move(board, symbol):\n  pos = input('Enter your move (row column): ').split()\n  pos = [int(i) for i in pos]\n  if not valid_space(board, pos):\n    print('Invalid move!')\n    return False\n  else:\n    make_move(board, pos, symbol)\n    return True\n\n\ndef main():\n  board = create_board()\n  winner = 0\n  turn = PLAYER\n  complete = False\n\n  while not complete and not winner:\n    if turn == PLAYER:\n      player_move(board, PLAYER)\n      turn = AI\n    else:\n      ai_move(board, AI)\n      turn = PLAYER\n    winner = check_winner(board)\n    complete = check_complete(board)\n    print_board(board)\n\n  if winner == PLAYER:\n    print('Player wins')\n  elif winner == AI:\n    print('AI wins')\n  else:\n    print('Draw')\n\ndef check_complete(board):\n  return\n  if 0 in board:\n    return False\n  else:\n    return True\n\ndef check_winner(board):\n  for i in range(BOARD_SIZE):\n    if np.all(board[i] == PLAYER):\n      return PLAYER\n    elif np.all(board[i] == AI):\n      return AI\n\n  for j in range(BOARD_SIZE):\n    if np.all(board[:,j] == PLAYER):\n      return PLAYER\n    elif np.all(board[:,j] == AI):\n      return AI\n\n  diag1 = np.diag(board)\n  diag2 = np.diag(np.fliplr(board))\n  if np.all(diag1 == PLAYER):\n    return PLAYER\n  elif np.all(diag1 == AI):\n    return AI\n  elif np.all(diag2 == PLAYER):\n    return PLAYER\n  elif np.all(diag2 == AI):\n    return AI\n\n  else:\n    return 0\n\ndef print_board(board):\n  for i in range(BOARD_SIZE):\n    for j in range(BOARD_SIZE):\n      if board[i,j] == PLAYER:\n        print('X ', end=\"\")\n      elif board[i,j] == AI:\n        print('O ', end=\"\")\n      else:\n        print('  ', end=\"\")\n    print()\n\nif __name__ == \"__main__\":\n  main()\n",
  "line_no": 65,
  "line_no_percent": "59%"
}