{
  "instruction": "This code is a Django migration that adds a new M2M table for the 'projects_relateds' field on the 'New' model and removes the old M2M table for the 'project' field. To apply this migration, run the 'python manage.py migrate' command.",
  "buggy_code": "import datetime\nfrom south.db import db\nfrom south.v2 import SchemaMigration\nfrom django.db import models\n\nclass Migration(SchemaMigration):\n\n    def forwards(self, orm):\n        \n        db.delete_table('news_new_project')\n\n        db.create_table('news_new_projects_relateds', (\n            ('id', models.AutoField(verbose_name='ID', primary_key=True, auto_created=True)),\n            ('new', models.ForeignKey(orm['news.new'], null=False)),\n            ('project', models.ForeignKey(orm['projects.project'], null=False))\n        ))\n        db.create_unique('news_new_projects_relateds', ['new_id', 'project_id'])\n\n\n    def backwards(self, orm):\n        return\n        \n        db.create_table('news_new_project', (\n            ('id', models.AutoField(verbose_name='ID', primary_key=True, auto_created=True)),\n            ('new', models.ForeignKey(orm['news.new'], null=False)),\n            ('project', models.ForeignKey(orm['projects.project'], null=False))\n        ))\n        db.create_unique('news_new_project', ['new_id', 'project_id'])\n\n        db.delete_table('news_new_projects_relateds')\n\n\n    models = {\n        'auth.group': {\n            'Meta': {'object_name': 'Group'},\n            'id': ('django.db.models.fields.AutoField', [], {'primary_key': 'True'}),\n            'name': ('django.db.models.fields.CharField', [], {'unique': 'True', 'max_length': '80'}),\n            'permissions': ('django.db.models.fields.related.ManyToManyField', [], {'to': \"orm['auth.Permission']\", 'symmetrical': 'False', 'blank': 'True'})\n        },\n        'auth.permission': {\n            'Meta': {'ordering': \"('content_type__app_label', 'content_type__model', 'codename')\", 'unique_together': \"(('content_type', 'codename'),)\", 'object_name': 'Permission'},\n            'codename': ('django.db.models.fields.CharField', [], {'max_length': '100'}),\n            'content_type': ('django.db.models.fields.related.ForeignKey', [], {'to': \"orm['contenttypes.ContentType']\"}),\n            'id': ('django.db.models.fields.AutoField', [], {'primary_key': 'True'}),\n            'name': ('django.db.models.fields.CharField', [], {'max_length': '50'})\n        },\n        'auth.user': {\n            'Meta': {'object_name': 'User'},\n            'date_joined': ('django.db.models.fields.DateTimeField', [], {'default': 'datetime.datetime.now'}),\n            'email': ('django.db.models.fields.EmailField', [], {'max_length': '75', 'blank': 'True'}),\n            'first_name': ('django.db.models.fields.CharField', [], {'max_length': '30', 'blank': 'True'}),\n            'groups': ('django.db.models.fields.related.ManyToManyField', [], {'to': \"orm['auth.Group']\", 'symmetrical': 'False', 'blank': 'True'}),\n            'id': ('django.db.models.fields.AutoField', [], {'primary_key': 'True'}),\n            'is_active': ('django.db.models.fields.BooleanField', [], {'default': 'True'}),\n            'is_staff': ('django.db.models.fields.BooleanField', [], {'default': 'False'}),\n            'is_superuser': ('django.db.models.fields.BooleanField', [], {'default': 'False'}),\n            'last_login': ('django.db.models.fields.DateTimeField', [], {'default': 'datetime.datetime.now'}),\n            'last_name': ('django.db.models.fields.CharField', [], {'max_length': '30', 'blank': 'True'}),\n            'password': ('django.db.models.fields.CharField', [], {'max_length': '128'}),\n            'user_permissions': ('django.db.models.fields.related.ManyToManyField', [], {'to': \"orm['auth.Permission']\", 'symmetrical': 'False', 'blank': 'True'}),\n            'username': ('django.db.models.fields.CharField', [], {'unique': 'True', 'max_length': '30'})\n        },\n        'contenttypes.contenttype': {\n            'Meta': {'ordering': \"('name',)\", 'unique_together': \"(('app_label', 'model'),)\", 'object_name': 'ContentType', 'db_table': \"'django_content_type'\"},\n            'app_label': ('django.db.models.fields.CharField', [], {'max_length': '100'}),\n            'id': ('django.db.models.fields.AutoField', [], {'primary_key': 'True'}),\n            'model': ('django.db.models.fields.CharField', [], {'max_length': '100'}),\n            'name': ('django.db.models.fields.CharField', [], {'max_length': '100'})\n        },\n        'news.new': {\n            'Meta': {'object_name': 'New'},\n            'author': ('django.db.models.fields.related.ForeignKey', [], {'to': \"orm['auth.User']\"}),\n            'body': ('django.db.models.fields.TextField', [], {}),\n            'datetime': ('django.db.models.fields.DateTimeField', [], {}),\n            'id': ('django.db.models.fields.AutoField', [], {'primary_key': 'True'}),\n            'image': ('django.db.models.fields.files.ImageField', [], {'max_length': '100', 'null': 'True', 'blank': 'True'}),\n            'projects_relateds': ('django.db.models.fields.related.ManyToManyField', [], {'symmetrical': 'False', 'to': \"orm['projects.Project']\", 'null': 'True', 'blank': 'True'}),\n            'summary': ('django.db.models.fields.CharField', [], {'max_length': '200', 'null': 'True', 'blank': 'True'}),\n            'title': ('django.db.models.fields.CharField', [], {'max_length': '200'})\n        },\n        'projects.project': {\n            'Meta': {'object_name': 'Project'},\n            'description': ('django.db.models.fields.TextField', [], {}),\n            'end_date': ('django.db.models.fields.DateField', [], {'null': 'True'}),\n            'id': ('django.db.models.fields.AutoField', [], {'primary_key': 'True'}),\n            'logo': ('django.db.models.fields.files.ImageField', [], {'max_length': '100'}),\n            'name': ('django.db.models.fields.CharField', [], {'max_length': '100'}),\n            'sponsor': ('django.db.models.fields.CharField', [], {'max_length': '100'}),\n            'start_date': ('django.db.models.fields.DateField', [], {}),\n            'status': ('django.db.models.fields.CharField', [], {'max_length': '100'})\n        }\n    }\n\n    complete_apps = ['news']\n",
  "line_no": 21,
  "line_no_percent": "22%"
}