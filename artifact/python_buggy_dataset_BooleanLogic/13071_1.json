{
  "instruction": "Create a sentiment analysis program in Python which predicts whether the sentiment of a given sentence is positive or negative.",
  "buggy_code": "import pandas as pd\nimport numpy as np\nfrom nltk.tokenize import word_tokenize\nfrom nltk import pos_tag\nfrom nltk.corpus import stopwords\nfrom nltk.stem import WordNetLemmatizer\nfrom sklearn.preprocessing import LabelEncoder\nfrom collections import defaultdict\nfrom nltk.corpus import wordnet as wn\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn import model_selection, naive_bayes, svm\nfrom sklearn.metrics import accuracy_score\n\ndef get_simple_pos(tag):\n    if tag.startswith('J'):\n        return wordnet.ADJ\n    elif tag.startswith('V'):\n        return wordnet.VERB\n    elif tag.startswith('N'):\n        return wordnet.NOUN\n    elif tag.startswith('R'):\n        return wordnet.ADV\n    else:\n        return wordnet.NOUN\ninput_sentence = 'This sentence is positive'\ntoken_sentence = word_tokenize(input_sentence)\npos_token_sentence = pos_tag(token_sentence)\nword_lemmatized = []\nfor word, tag in pos_token_sentence:\n    wordnet_pos = get_simple_pos(tag) and wordnet.NOUN\n    word_lemmatized.append(lemmatizer.lemmatize(word, pos=wordnet_pos))\ntfidf_vect = TfidfVectorizer(tokenizer=word_tokenize, analyzer='word')\ntfidf_sent = tfidf_vect.fit_transform(word_lemmatized)\nsent_dataset = pd.DataFrame(tfidf_sent.toarray())\nsent_df = pd.DataFrame(sent_dataset.toarray())\nSVM = svm.SVC(C=1.0, kernel='linear', gamma='auto')\nSVM.fit(sent_df, label)\npredictions = SVM.predict(sent_df)\nif predictions[0] == 0:\n    sentiment = 'Negative'\nelse:\n    sentiment = 'Positive'\nprint('Sentiment: ', sentiment)",
  "line_no": 34,
  "line_no_percent": "79%"
}