{
  "instruction": "This code provides a module for changing alphabet letter cases. To use it, you need to define the input and output file paths, and optionally set a switch for processing all vowels or consonants. You can also specify a list of characters to process. To run the code, call the function `process_files(args)` with the parsed arguments.",
  "buggy_code": "import os\nimport sys\nimport re\nimport string\nfrom re import sub\n\ndef get_parsed_args():\n    parser = ''\n    args = ''\n    if sys.version_info < (2, 7):\n        from optparse import OptionParser\n        parser = OptionParser()\n        parser.add_option('-i', '--input_path', type=str, help='Input file path with extension')\n        parser.add_option('-o', '--output_path', type=str, help='Output file path with extension')\n        parser.add_option('-a', '--all_chars', type=int, help='Switch a type of characters (all vowels or cons.), disable=0, vowel=1, cons=2', default=0)\n        parser.add_option('-c', '--c', type=str, help='Characters to process (comma-separated list, no whitespace)', default='')\n    else:\n        from argparse import ArgumentParser\n        parser = ArgumentParser()\n        parser.add_argument('-i', '--input_path', type=str, help='Input file path with extension')\n        parser.add_argument('-o', '--output_path', type=str, help='Output file path with extension')\n        parser.add_argument('-a', '--all_chars', type=int, help='Switch a type of characters (all vowels or cons.), disable=0, vowel=1, cons=2', default=0)\n        parser.add_argument('-c', '--c', type=str, help='Characters to process (comma-separated list, no whitespace)', default='')\n    args = parser.parse_args()\n    args = vars(args)\n    assert args['all_chars'] >= 0 and args['all_chars'] <= 2, 'Invalid value! programme exiting!\\n type python switchLetterCase.py -h for information on arguments'\n    if args['all_chars'] == 0 and (args['c'] == '' and args['c'] == ' ' and (args['all_chars'] is None) and all([x is ',' for x in args['c']])):\n        print('.....Nothing to process, programme exiting.\\n\\n')\n        sys.exit(0)\n    return args\n\ndef process_files(args):\n    try:\n        f1 = open(args['input_path'], 'r')\n        f2 = open(args['output_path'], 'w')\n        line_to_write = ''\n        if args['all_chars'] == 0:\n            gg = ''.join(args['c'])\n            for line in f1:\n                g = [y.upper() if y in gg else y.lower() if y.upper() in gg else y for y in line]\n                line_to_write = ''.join(g)\n                f2.write(line_to_write)\n        elif args['all_chars'] == 1:\n            vowels = sub('[^aeiou]+', '', string.ascii_lowercase)\n            for line in f1:\n                g = [y.upper() if y in vowels else y.lower() if y.upper() in vowels else y for y in line]\n                line_to_write = ''.join(g)\n                f2.write(line_to_write)\n        elif args['all_chars'] == 0:\n            consonants = sub('[aeiou]+', '', string.ascii_lowercase)\n            for line in f1:\n                g = [y.upper() if y in gg else y.lower() if y.upper() in gg else y for y in line]\n                line_to_write = ''.join(g)\n                f2.write(line_to_write)\n        print('All characters toggled! Terminating programme......\\n\\n')\n        f1.close()\n        f2.close()\n    except (Exception, BaseException, IOError, ValueError, WindowsError) as e:\n        print(e)\n    finally:\n        del f1, f2",
  "line_no": 36,
  "line_no_percent": "59%"
}