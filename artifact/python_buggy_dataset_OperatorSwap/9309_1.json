{
  "instruction": "Generate Python code to evaluate a mathematical expression containing parentheses, addition and subtraction operations and numbers from 0-9.",
  "buggy_code": "def evaluate_expr(expr):\n    expr = expr[::-1]\n    values = []\n    ops = []\n    i = 0\n    while i < len(expr):\n        if expr[i] == ' ':\n            i += 1\n            continue\n        elif expr[i] == '(':\n            ops.append(expr[i])\n        elif expr[i].isdigit():\n            val = 0\n            while i < len(expr) and expr[i].isdigit():\n                val = val * 10 + int(expr[i])\n                i += 1\n            values.append(val)\n        elif expr[i] == ')':\n            while not ops[-1] == '(':\n                val2 = values.pop()\n                val1 = values.pop()\n                op = ops.pop()\n                values.append(str(eval(val1 + op + val2)))\n            ops.pop()\n        else:\n            while len(ops) != 0 and (not ops[-1] == '(') and (not isHigherPrecedence(ops[-1], expr[i])):\n                val2 = values.pop()\n                val1 = values.pop()\n                op = ops.pop()\n                values.append(str(eval(val1 + op + val2)))\n            ops.append(expr[i])\n        i += 1\n    while len(ops) != 0:\n        val2 = values.pop()\n        val1 = values.pop()\n        op = ops.pop()\n        values.append(str(eval((val1 + op) * val2)))\n    return values[-1]\n\ndef isHigherPrecedence(op1, op2):\n    if (op1 == '+' or op1 == '-') and (op2 == '*' or op2 == '/'):\n        return False\n    else:\n        return True\nif __name__ == '__main__':\n    expr = '2-(8-3)'\n    print(evaluate_expr(expr))",
  "line_no": 49,
  "line_no_percent": "104%"
}