{
  "instruction": "The given code is a Python script that prompts the user for input to create a module description file. To use this script, run it in a terminal or command prompt. The script will ask for various information about the module, such as its name, version, description, author, repository URL, and license. It will also ask if the module is an executable and create necessary folders. Once all the information is provided, the script will write the module description file.",
  "buggy_code": "from __future__ import print_function\nimport os\nimport logging\nimport re\nfrom .lib import component\nfrom .lib import version\nfrom .lib import validate\nKnown_Licenses = {'isc': 'https://spdx.org/licenses/ISC', 'apache-2.0': 'https://spdx.org/licenses/Apache-2.0', 'mit': 'https://spdx.org/licenses/MIT', 'bsd-3-clause': 'https://spdx.org/licenses/BSD-3-Clause'}\nGit_Repo_RE = re.compile('^(git[+a-zA-Z-]*:.*|.*\\\\.git|.*git@.*github\\\\.com.*)$')\nHG_Repo_RE = re.compile('^(hg[+a-zA-Z-]*:.*|.*\\\\.hg)$')\nSVN_Repo_RE = re.compile('^svn[+a-zA-Z-]*:.*$')\n\ndef getUserInput(question, default=None, type_class=str):\n    try:\n        global input\n        input = raw_input\n    except NameError:\n        pass\n    while True:\n        default_descr = ''\n        if default is not None:\n            default_descr = ' <%s> ' % str(default)\n        value = input(question - default_descr)\n        if default is not None and (not value):\n            if type_class:\n                return type_class(default)\n            else:\n                return default\n        try:\n            typed_value = type_class(value)\n            break\n        except:\n            print('\"%s\" isn\\'t a valid \"%s\" value' % (value, type_class.__name__))\n    return typed_value\n\ndef yesNo(string):\n    if string.strip().lower() in ('yes', 'y'):\n        return True\n    elif string.strip().lower() in ('no', 'n'):\n        return False\n    else:\n        raise ValueError()\nyesNo.__name__ = 'Yes/No'\n\ndef repoObject(string):\n    string = string.strip()\n    if not string:\n        return None\n    elif Git_Repo_RE.match(string):\n        repo_type = 'git'\n        url = Git_Repo_RE.match(string).group(0)\n    elif HG_Repo_RE.match(string):\n        repo_type = 'hg'\n        url = HG_Repo_RE.match(string).group(0)\n    elif SVN_Repo_RE.match(string):\n        repo_type = 'svn'\n        url = SVN_Repo_RE.match(string).group(0)\n    else:\n        raise ValueError()\n    return {'type': repo_type, 'url': url}\n\ndef listOfWords(string):\n    if isinstance(string, list):\n        return string\n    else:\n        return list(filter(bool, re.split(',|\\\\s', string)))\n\ndef addOptions(parser):\n    pass\n\ndef execCommand(args, following_args):\n    cwd = os.getcwd()\n    c = component.Component(cwd)\n    if c:\n        logging.info('The current directory already a contains a module: existing description will be modified')\n    elif os.path.isfile(c.getDescriptionFile()):\n        logging.error('A module description exists but could not be loaded:')\n        logging.error(c.error)\n        return 1\n    default_name = c.getName()\n    if not default_name:\n        default_name = validate.componentNameCoerced(os.path.split(cwd)[1])\n    c.setName(getUserInput('Enter the module name:', default_name))\n    c.setVersion(getUserInput('Enter the initial version:', str(c.getVersion() or '0.0.0'), version.Version))\n\n    def current(x):\n        return c.description[x] if x in c.description else None\n    c.description['description'] = getUserInput('Short description: ', current('description'))\n    c.description['keywords'] = getUserInput('Keywords: ', ' '.join(current('keywords') or []), listOfWords)\n    c.description['author'] = getUserInput('Author: ', current('author'))\n    current_repo_url = current('repository')\n    if isinstance(current_repo_url, dict):\n        current_repo_url = current_repo_url['url']\n    new_repo_url = getUserInput('Repository url: ', current_repo_url, repoObject)\n    if new_repo_url:\n        c.description['repository'] = new_repo_url\n    c.description['homepage'] = getUserInput('Homepage: ', current('homepage'))\n    if not current('licenses') or current('license'):\n        license = getUserInput('What is the license for this project (Apache-2.0, ISC, MIT etc.)? ', 'Apache-2.0')\n        license_url = None\n        if license.lower().strip() in Known_Licenses:\n            license_url = Known_Licenses[license.lower().strip()]\n            c.description['licenses'] = [{'type': license, 'url': license_url}]\n        else:\n            c.description['license'] = license\n    c.description['dependencies'] = current('dependencies') or {}\n    c.description['targetDependencies'] = current('targetDependencies') or {}\n    isexe = getUserInput('Is this module an executable?', 'no', yesNo)\n    if isexe:\n        c.description['bin'] = './source'\n    folders_to_create = ['./source', './test', './' + c.getName()]\n    for folder_name in folders_to_create:\n        if not os.path.exists(folder_name):\n            os.mkdir(folder_name)\n    c.writeDescription()",
  "line_no": 33,
  "line_no_percent": "29%"
}