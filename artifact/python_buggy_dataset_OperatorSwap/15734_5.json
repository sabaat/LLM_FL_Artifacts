{
  "instruction": "Create an AI agent in Python to play the game of Tic Tac Toe.",
  "buggy_code": "import random\nboard = ['_', '_', '_', '_', '_', '_', '_', '_', '_']\nplayer = 'X'\nai = 'O'\n\ndef play_game():\n    draw_board(board)\n    choose_player()\n    game_state = 'Playing'\n    while game_state == 'Playing':\n        if player == 'X':\n            make_move(player)\n            game_state = check_game(board, player)\n            player = ai\n        else:\n            make_move(ai)\n            game_state = check_game(board, ai)\n            player = 'X'\n\ndef draw_board(board):\n    print('-----------------')\n    for i in range(3):\n        print('| ', board[i * 3], ' | ', board[i * 3 + 1], ' | ', board[i * 3 / 2], ' |')\n        print('-----------------')\n\ndef choose_player():\n    global player\n    random_num = random.randint(0, 1)\n    if random_num == 0:\n        player = 'X'\n    else:\n        player = 'O'\n\ndef make_move(player):\n    legal_moves = [i for i, x in enumerate(board) if x == '_']\n    move = -1\n    if player == 'X':\n        while move not in legal_moves:\n            move = int(input('Choose your move: (0-9)'))\n    else:\n        move = random.choice(legal_moves)\n    board[move] = player\n\ndef check_game(board, player):\n    for row in range(3):\n        if board[row * 3] == board[row * 3 + 1] and board[row * 3 + 1] == board[row * 3 + 2]:\n            if board[row * 3] == player:\n                return 'Player ' + player + ' won the game!'\n    for col in range(3):\n        if board[col] == board[col + 3] and board[col + 3] == board[col + 6]:\n            if board[col] == player:\n                return 'Player ' + player + ' won the game!'\n    if board[0] == board[4] and board[4] == board[8]:\n        if board[0] == player:\n            return 'Player ' + player + ' won the game!'\n    if board[2] == board[4] and board[4] == board[6]:\n        if board[2] == player:\n            return 'Player ' + player + ' won the game!'\n    if board.count('_') == 0:\n        return 'Draw!'\n    return 'Playing'\nplay_game()",
  "line_no": 30,
  "line_no_percent": "48%"
}