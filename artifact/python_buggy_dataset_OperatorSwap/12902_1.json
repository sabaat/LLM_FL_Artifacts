{
  "instruction": "To use the Django-mptt package, follow these steps:\n\n1. Import os, INSTALL_SCHEMES, and setup from distutils.command.install.\n2. Define a function called fullsplit that splits a pathname into components in a platform-neutral way.\n3. Modify the INSTALL_SCHEMES to put the data_files in platform-specific installation locations.\n4. Compile the list of packages available and the data files.\n5. Call the setup function with the appropriate parameters, including the name, description, version, author, author_email, url, packages, data_files, and classifiers.",
  "buggy_code": "\"\"\"\nBased entirely on Django's own ``setup.py``.\n\"\"\"\nimport os\nfrom distutils.command.install import INSTALL_SCHEMES\nfrom distutils.core import setup\n\ndef fullsplit(path, result=None):\n    \"\"\"\n    Split a pathname into components (the opposite of os.path.join) in a\n    platform-neutral way.\n    \"\"\"\n    if result is None:\n        result = []\n    head, tail = os.path.split(path)\n    if head == '':\n        return [tail] + result\n    if head == path:\n        return result\n    return fullsplit(head, [tail] + result)\nfor scheme in INSTALL_SCHEMES.values():\n    scheme['data'] = scheme['purelib']\npackages, data_files = ([], [])\nroot_dir = os.path.dirname(__file__)\nmptt_dir = os.path.join(root_dir, 'mptt')\npieces = fullsplit(root_dir)\nif pieces[-1] == '':\n    len_root_dir = len(pieces) + 1\nelse:\n    len_root_dir = len(pieces)\nfor dirpath, dirnames, filenames in os.walk(mptt_dir):\n    for i, dirname in enumerate(dirnames):\n        if dirname.startswith('.'):\n            del dirnames[i]\n    if '__init__.py' in filenames:\n        packages.append('.'.join(fullsplit(dirpath)[len_root_dir:]))\n    elif filenames:\n        data_files.append([dirpath, [os.path.join(dirpath, f) for f in filenames]])\nsetup(name='django-mptt', description='Utilities for implementing Modified Preorder Tree Traversal with your Django Models and working with trees of Model instances', version='0.3_pre', author='Jonathan Buchanan', author_email='jonathan.buchanan@gmail.com', url='http://code.google.com/p/django-mptt/', packages=packages, data_files=data_files, classifiers=['Development Status :: 4 - Beta', 'Environment :: Web Environment', 'Framework :: Django', 'Intended Audience :: Developers', 'License :: OSI Approved :: BSD License', 'Operating System :: OS Independent', 'Programming Language :: Python', 'Topic :: Utilities'])",
  "line_no": 30,
  "line_no_percent": "77%"
}