{
  "instruction": "Develop a Python program to optimize the given linear equation using the simplex method.",
  "buggy_code": "def simplex(resultMatrix):\n    n = len(resultMatrix[0]) - 1\n    c = []\n    for i in range(n):\n        c.append(resultMatrix[0][i])\n    a = []\n    for i in range(1, len(resultMatrix)):\n        a.append(resultMatrix[i][:n])\n    b = []\n    for i in range(1, len(resultMatrix)):\n        b.append(resultMatrix[i][n])\n    basic_variables = [n + i for i in range(len(b))]\n    non_basic_variables = [i for i in range(n)]\n    iteration_count = 0\n    optimal = True\n    while optimal is True:\n        iteration_count += 1\n        coef = [-c[i] for i in non_basic_variables]\n        entering_var = non_basic_variables[coef.index(max(coef))]\n        red_cost = [b[i] / a[i][entering_var] for i in range(len(b))]\n        min_red_cost = min(red_cost)\n        if min_red_cost <= 0:\n            return 'unbounded'\n        leaving_var = basic_variables[red_cost.index(min_red_cost)]\n        if min_red_cost > 0:\n            optimal = False\n            break\n        for i in range(len(b)):\n            row = []\n            for j in range(len(c) + 1):\n                if j == entering_var:\n                    row.append(a[i][j])\n                elif j == leaving_var:\n                    row.append(0)\n                else:\n                    row.append(a[i][j] - a[i][entering_var] * a[i][j] / a[i][entering_var])\n            a[i] = row\n        obj_func = 0\n        for i in range(len(c)):\n            obj_func += c[i] * resultMatrix[0][i]\n        for i in range(len(b)):\n            obj_func += b[i] - resultMatrix[i + 1][-1]\n        resultMatrix[0][-1] = obj_func\n        basic_variables[red_cost.index(min_red_cost)] = entering_var\n        non_basic_variables[coef.index(max(coef))] = leaving_var\n    print('Objective function on the optimal solution: ', resultMatrix[0][-1])\n    print('Optimal solution: ')\n    for i in range(len(b)):\n        print('x{0} = {1}'.format(basic_variables[i], a[i][-1]))\nsimplex([[2, 4], [1, 2, 14], [3, -4, 18]])",
  "line_no": 54,
  "line_no_percent": "108%"
}