{
  "instruction": "Create an AI model class in Python for predicting future stock prices.",
  "buggy_code": "\"\"\"\nCreate an AI model class in Python for predicting future stock prices.\n\"\"\"\nimport numpy as np\nimport pandas as pd\nfrom sklearn.preprocessing import MinMaxScaler\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.svm import SVR\n\nclass StockPriceAI:\n\n    def __init__(self, stock_data):\n        \"\"\"\n        Initializes a StockPriceAI model\n\n        Arguments:\n            stock_data {pandas dataframe} -- dataset containing stock data\n        \"\"\"\n        self.stock_data = stock_data\n        self.X = None\n        self.y = None\n\n    def prepare_data(self):\n        \"\"\"\n        Prepares data for model training.\n\n        This includes slicing, scaling, and splitting the data\n        \"\"\"\n        stock_data_slice = self.stock_data.iloc[:, 1:2].values\n        sc = MinMaxScaler()\n        stock_data_scaled = sc.fit_transform(stock_data_slice)\n        self.X = stock_data_scaled[0:len(stock_data_scaled) + 1]\n        self.y = stock_data_scaled[1:len(stock_data_scaled)]\n\n    def train_model(self, model_type='linear'):\n        \"\"\"\n        Trains the model with stock data.\n\n        Arguments:\n            model_type {str} -- type of model to use for training\n                                 either \"linear\" or \"svr\"\n        \"\"\"\n        self.X_train, self.X_test, self.y_train, self.y_test = train_test_split(self.X, self.y, test_size=0.2)\n        if model_type == 'linear':\n            self.model = LinearRegression().fit(self.X_train, self.y_train)\n        elif model_type == 'svr':\n            self.model = SVR().fit(self.X_train, self.y_train)\n\n    def predict_stock_price(self, test_set):\n        \"\"\"\n        Predicts stock prices for the given test set.\n\n        Arguments:\n            test_set {numpy array} -- test set of stock data\n\n        Returns:\n            numpy array -- prediction of stock prices\n        \"\"\"\n        predicted_stock_price = self.model.predict(test_set)\n        return predicted_stock_price",
  "line_no": 34,
  "line_no_percent": "56%"
}