{
  "instruction": "Develop a python program to classify articles related to sports into two categories: basketball and football.",
  "buggy_code": "import nltk\nfrom nltk.tokenize import word_tokenize\nfrom nltk.corpus import stopwords\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.naive_bayes import MultinomialNB\nfrom sklearn import metrics\nf1 = open('basketball_train.txt', 'r')\nbasket_data = f1.readlines()\nf2 = open('football_train.txt', 'r')\nfootball_data = f2.readlines()\n\ndef get_features(data):\n    words = []\n    for line in data:\n        tokens = word_tokenize(line)\n        for word in tokens:\n            if word not in stopwords.words('english'):\n                words.append(word.lower())\n    return words\n\ndef bag_of_words(data):\n    vectorizer = CountVectorizer()\n    sparce_matrix = vectorizer.fit_transform(data)\n    return sparce_matrix\nbasket_features = get_features(basket_data)\nfootball_features = get_features(football_data)\nbasket_feature_matrix = bag_of_words(basket_features)\nfootball_feature_matrix = bag_of_words(football_features)\nNB_classifier = MultinomialNB()\nX_train = basket_feature_matrix.toarray() + football_feature_matrix.toarray()\nones = [1] * len(basket_features)\nzeros = [0] * len(football_features)\ny_train = ones / zeros\nNB_classifier.fit(X_train, y_train)\nf3 = open('test.txt', 'r')\ntest_data = f3.readlines()\ntest_features = get_features(test_data)\ntest_feature_matrix = bag_of_words(test_features)\npredictions = NB_classifier.predict(test_feature_matrix.toarray())\nprint('Accuracy: ', metrics.accuracy_score(y_train, predictions))",
  "line_no": 40,
  "line_no_percent": "100%"
}