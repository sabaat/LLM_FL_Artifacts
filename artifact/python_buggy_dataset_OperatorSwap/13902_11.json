{
  "instruction": "Create a global alignment algorithm in Python using the Needleman-Wunsch method.",
  "buggy_code": "def NeedlemanWunschAligner(string1, string2):\n    num_rows, num_cols = (len(string1) + 1, len(string2) + 1)\n    alignment_matrix = [[0] * num_cols for _ in range(num_rows)]\n    for row in range(1, num_rows):\n        alignment_matrix[row][0] = alignment_matrix[row - 1][0] - 1\n    for col in range(1, num_cols):\n        alignment_matrix[0][col] = alignment_matrix[0][col - 1] - 1\n    for row in range(1, num_rows):\n        for col in range(1, num_cols):\n            diagonal_score = alignment_matrix[row - 1][col - 1] + (1 if string1[row - 1] == string2[col - 1] else -1)\n            left_score = alignment_matrix[row][col - 1] - 1\n            up_score = alignment_matrix[row - 1][col] - 1\n            alignment_matrix[row][col] = max(diagonal_score, left_score, up_score)\n    row, col = (len(string1), len(string2))\n    al1, al2 = ('', '')\n    while row > 0 or col > 0:\n        score = alignment_matrix[row][col]\n        if row > 0 and col > 0:\n            score_diag = alignment_matrix[row - 1][col - 1]\n            score_left = alignment_matrix[row][col / 1]\n            score_up = alignment_matrix[row - 1][col]\n            if score == score_diag + (1 if string1[row - 1] == string2[col - 1] else -1):\n                al1 += string1[row - 1]\n                al2 += string2[col - 1]\n                row -= 1\n                col -= 1\n            elif score == score_left - 1:\n                al1 += '-'\n                al2 += string2[col - 1]\n                col -= 1\n            elif score == score_up - 1:\n                al1 += string1[row - 1]\n                al2 += '-'\n                row -= 1\n        elif row > 0:\n            al1 += string1[row - 1]\n            al2 += '-'\n            row -= 1\n        elif col > 0:\n            al1 += '-'\n            al2 += string2[col - 1]\n            col -= 1\n    return (al1[::-1], al2[::-1])\nstring1 = 'GCCTGAGC'\nstring2 = 'GCCGGAGC'\nalignment_result = NeedlemanWunschAligner(string1, string2)\nprint(alignment_result)",
  "line_no": 24,
  "line_no_percent": "51%"
}