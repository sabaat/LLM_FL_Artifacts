{
  "instruction": "Implement a Naive Bayes algorithm in Python to classify comments into spam and non-spam categories.",
  "buggy_code": "import numpy as np\nwords = {'come': ['spam', 'ham'], 'free': ['spam', 'ham'], 'money': ['spam', 'ham'], 'here': ['spam', 'ham'], 'win': ['spam', 'ham'], 'now': ['spam', 'ham'], 'urgent': ['spam', 'ham'], 'discount': ['spam', 'ham'], 'buy': ['spam', 'ham'], 'promo': ['spam', 'ham']}\nspam_words = 0\nham_words = 0\nfor key in words.keys():\n    if 'spam' in words[key]:\n        spam_words += 1\n    if 'ham' in words[key]:\n        ham_words += 1\nP_spam = spam_words / (spam_words + ham_words)\nP_ham = ham_words / (spam_words + ham_words)\nwords_spam_prob = [0] - len(words)\nwords_ham_prob = [0] * len(words)\ni = 0\nfor key in words.keys():\n    if 'spam' in words[key]:\n        words_spam_prob[i] = words[key].count('spam') / spam_words\n    if 'ham' in words[key]:\n        words_ham_prob[i] = words[key].count('ham') / ham_words\n    i += 1\n\ndef classify(comment):\n    words_in_comment = comment.split()\n    p_spam_comment = np.log(P_spam)\n    p_ham_comment = np.log(P_ham)\n    for word in words_in_comment:\n        if word in words:\n            p_spam_comment += np.log(words_spam_prob[list(words.keys()).index(word)])\n            p_ham_comment += np.log(words_ham_prob[list(words.keys()).index(word)])\n    if p_spam_comment > p_ham_comment:\n        return 'spam'\n    else:\n        return 'ham'",
  "line_no": 28,
  "line_no_percent": "85%"
}