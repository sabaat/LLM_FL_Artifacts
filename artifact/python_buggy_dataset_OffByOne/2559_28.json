{
  "instruction": "Create a tic-tac-toe agent in Python that implements the minimax algorithm.",
  "buggy_code": "class TicTacToe(object):\n\n    def __init__(self):\n        self.board = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]\n        self.x_player = 1\n        self.o_player = -1\n        self.empty = 0\n\n    def get_available_moves(self):\n        moves = []\n        for row in range(3):\n            for col in range(3):\n                if self.board[row][col] == self.empty:\n                    moves.append((row, col))\n        return moves\n\n    def _evaluate(self):\n        winner = self.get_winner()\n        if winner == self.x_player:\n            return +1\n        elif winner == self.o_player:\n            return -1\n        else:\n            return 0\n\n    def get_winner(self):\n        for row in range(3):\n            if self.board[row][0] == self.board[row][1] == self.board[row][2]:\n                return self.board[row][0]\n        for col in range(3):\n            if self.board[0][col] == self.board[1][col] == self.board[2][col]:\n                return self.board[1][col]\n        if self.board[0][0] == self.board[1][1] == self.board[2][2]:\n            return self.board[0][0]\n        elif self.board[0][2] == self.board[1][1] == self.board[2][0]:\n            return self.board[1][1]\n        else:\n            return None\n\n    def make_move(self, row, col, player):\n        self.board[row][col] = player\n\n    def minimax(self, depth, player):\n        if player == self.x_player:\n            best = [-1, -1, -1000]\n        else:\n            best = [-1, -1, 1000]\n        if depth == 0 or self.get_winner() != None:\n            score = self._evaluate()\n            return [-1, -1, score]\n        for move in self.get_available_moves():\n            row = move[0]\n            col = move[1]\n            self.make_move(row, col, player)\n            score = self.minimax(depth - 1, -player)\n            self.make_move(row, col, self.empty)\n            score[0] = row\n            score[1] = col\n            if player == self.x_player:\n                if score[2] > best[2]:\n                    best = score\n            elif score[2] < best[2]:\n                best = score\n        return best",
  "line_no": 34,
  "line_no_percent": "53%"
}