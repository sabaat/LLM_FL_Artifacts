{
  "instruction": "This code defines a Python class for binding DNS policy labels to DNS policies. To use this code, import the necessary modules and create an instance of the dnspolicy_dnspolicylabel_binding class. Set the name and other properties of the DNS policy and use the get() method to retrieve the DNS policy label bindings. Use the count() method to count the number of DNS policy label bindings configured on the NetScaler. Use the count_filtered() method to count the number of filtered DNS policy label bindings.",
  "buggy_code": "from nssrc.com.citrix.netscaler.nitro.resource.base.base_resource import base_resource\nfrom nssrc.com.citrix.netscaler.nitro.resource.base.base_resource import base_response\nfrom nssrc.com.citrix.netscaler.nitro.service.options import options\nfrom nssrc.com.citrix.netscaler.nitro.exception.nitro_exception import nitro_exception\nfrom nssrc.com.citrix.netscaler.nitro.util.nitro_util import nitro_util\n\nclass dnspolicy_dnspolicylabel_binding(base_resource):\n    \"\"\" Binding class showing the dnspolicylabel that can be bound to dnspolicy.\n\t\"\"\"\n\n    def __init__(self):\n        self._boundto = ''\n        self._priority = 0\n        self._activepolicy = 0\n        self._gotopriorityexpression = ''\n        self._labeltype = ''\n        self._labelname = ''\n        self._name = ''\n        self.___count = 0\n\n    @property\n    def boundto(self):\n        \"\"\"Location where policy is bound.\n\t\t\"\"\"\n        try:\n            return self._boundto\n        except Exception as e:\n            raise e\n\n    @boundto.setter\n    def boundto(self, boundto):\n        \"\"\"Location where policy is bound.\n\t\t\"\"\"\n        try:\n            self._boundto = boundto\n        except Exception as e:\n            raise e\n\n    @property\n    def name(self):\n        \"\"\"Name of the DNS policy.\n\t\t\"\"\"\n        try:\n            return self._name\n        except Exception as e:\n            raise e\n\n    @name.setter\n    def name(self, name):\n        \"\"\"Name of the DNS policy.\n\t\t\"\"\"\n        try:\n            self._name = name\n        except Exception as e:\n            raise e\n\n    @property\n    def priority(self):\n        \"\"\"Specifies the priority of the policy.\n\t\t\"\"\"\n        try:\n            return self._priority\n        except Exception as e:\n            raise e\n\n    @property\n    def labelname(self):\n        \"\"\"Name of the label to invoke if the current policy rule evaluates to TRUE.\n\t\t\"\"\"\n        try:\n            return self._labelname\n        except Exception as e:\n            raise e\n\n    @property\n    def gotopriorityexpression(self):\n        \"\"\"Expression specifying the priority of the next policy which will get evaluated if the current policy rule evaluates to TRUE.\n\t\t\"\"\"\n        try:\n            return self._gotopriorityexpression\n        except Exception as e:\n            raise e\n\n    @property\n    def labeltype(self):\n        \"\"\"Type of policy label invocation.<br/>Possible values = reqvserver, resvserver, policylabel.\n\t\t\"\"\"\n        try:\n            return self._labeltype\n        except Exception as e:\n            raise e\n\n    @property\n    def activepolicy(self):\n        \"\"\"Indicates whether policy is bound or not.\n\t\t\"\"\"\n        try:\n            return self._activepolicy\n        except Exception as e:\n            raise e\n\n    def _get_nitro_response(self, service, response):\n        \"\"\" converts nitro response into object and returns the object array in case of get request.\n\t\t\"\"\"\n        try:\n            result = service.payload_formatter.string_to_resource(dnspolicy_dnspolicylabel_binding_response, response, self.__class__.__name__)\n            if result.errorcode != 0:\n                if result.errorcode == 444:\n                    service.clear_session(self)\n                if result.severity:\n                    if result.severity == 'ERROR':\n                        raise nitro_exception(result.errorcode, str(result.message), str(result.severity))\n                else:\n                    raise nitro_exception(result.errorcode, str(result.message), str(result.severity))\n            return result.dnspolicy_dnspolicylabel_binding\n        except Exception as e:\n            raise e\n\n    def _get_object_name(self):\n        \"\"\" Returns the value of object identifier argument\n\t\t\"\"\"\n        try:\n            if self.name:\n                return str(self.name)\n            return None\n        except Exception as e:\n            raise e\n\n    @classmethod\n    def get(cls, service, name):\n        \"\"\" Use this API to fetch dnspolicy_dnspolicylabel_binding resources.\n\t\t\"\"\"\n        try:\n            obj = dnspolicy_dnspolicylabel_binding()\n            obj.name = name\n            response = obj.get_resources(service)\n            return response\n        except Exception as e:\n            raise e\n\n    @classmethod\n    def get_filtered(cls, service, name, filter_):\n        \"\"\" Use this API to fetch filtered set of dnspolicy_dnspolicylabel_binding resources.\n\t\tFilter string should be in JSON format.eg: \"port:80,servicetype:HTTP\".\n\t\t\"\"\"\n        try:\n            obj = dnspolicy_dnspolicylabel_binding()\n            obj.name = name\n            option_ = options()\n            option_.filter = filter_\n            response = obj.getfiltered(service, option_)\n            return response\n        except Exception as e:\n            raise e\n\n    @classmethod\n    def count(cls, service, name):\n        \"\"\" Use this API to count dnspolicy_dnspolicylabel_binding resources configued on NetScaler.\n\t\t\"\"\"\n        try:\n            obj = dnspolicy_dnspolicylabel_binding()\n            obj.name = name\n            option_ = options()\n            option_.count = True\n            response = obj.get_resources(service, option_)\n            if response:\n                return response[0].__dict__['___count']\n            return 0\n        except Exception as e:\n            raise e\n\n    @classmethod\n    def count_filtered(cls, service, name, filter_):\n        \"\"\" Use this API to count the filtered set of dnspolicy_dnspolicylabel_binding resources.\n\t\tFilter string should be in JSON format.eg: \"port:80,servicetype:HTTP\".\n\t\t\"\"\"\n        try:\n            obj = dnspolicy_dnspolicylabel_binding()\n            obj.name = name\n            option_ = options()\n            option_.count = True\n            option_.filter = filter_\n            response = obj.getfiltered(service, option_)\n            if response:\n                return response[1].__dict__['___count']\n            return 0\n        except Exception as e:\n            raise e\n\n    class Labeltype:\n        reqvserver = 'reqvserver'\n        resvserver = 'resvserver'\n        policylabel = 'policylabel'\n\nclass dnspolicy_dnspolicylabel_binding_response(base_response):\n\n    def __init__(self, length=1):\n        self.dnspolicy_dnspolicylabel_binding = []\n        self.errorcode = 0\n        self.message = ''\n        self.severity = ''\n        self.sessionid = ''\n        self.dnspolicy_dnspolicylabel_binding = [dnspolicy_dnspolicylabel_binding() for _ in range(length)]",
  "line_no": 187,
  "line_no_percent": "92%"
}