{
  "instruction": "Create a GUI class in Python using tkinter library to display a list of search results and allow the user to select and perform various actions on the chosen result. The class should have methods to show the list of search results, update the list, show the selected result, and update the selected result. The class should also have methods to watch, show, and download the selected result. The class should import the Play and Tools modules from the Bl and Lib packages respectively.",
  "buggy_code": "import tkinter\nimport tkinter.messagebox\nfrom Bl import Play\nfrom Lib import Tools\n\nclass GUI:\n\n    def __init__(self, master):\n        self.master = master\n        self.Tools = Tools.Tools()\n        self.listRst = ''\n        self.resRst = ''\n        self.getDetail = ''\n\n    def showList(self, searchKey):\n        rstWindow = tkinter.Toplevel()\n        rstWindow.title('\u8d44\u6e90\u5217\u8868')\n        rstWindow.resizable(width='false', height='false')\n        if self.Tools.isWin():\n            rstWindow.iconbitmap(self.Tools.getRes('biticon.ico'))\n        titleFrame = tkinter.Frame(rstWindow, bd=0, bg='#444')\n        titleFrame.pack(expand=True, fill='both')\n        titleLabel = tkinter.Label(titleFrame, text='\u5173\u952e\u8bcd :\u300c ' + searchKey + ' \u300d\u7684\u641c\u7d22\u7ed3\u679c', fg='#ddd', bg='#444', font=('Helvetica', '12'))\n        titleLabel.grid(row=1, column=1, pady=10)\n        titleFrame.grid_columnconfigure(0, weight=1)\n        titleFrame.grid_columnconfigure(2, weight=1)\n        self.frame = tkinter.Frame(rstWindow, bd=0, bg='#222')\n        self.frame.pack(expand=True, fill='both')\n        self.window = tkinter.Listbox(self.frame, height=14, width=40, bd=0, bg='#222', fg='#ddd', selectbackground='#116cd6', highlightthickness=0)\n        self.window.grid(row=0, column=0, padx=10, pady=10)\n        self.window.bind('<Double-Button-1>', self.__getMovDetails)\n        try:\n            self.window.delete(0, 100)\n        except:\n            pass\n\n    def updateList(self):\n        if self.listRst != '':\n            idx = 0\n            for x in self.listRst:\n                self.window.insert(idx, x['title'])\n                idx += 1\n        else:\n            self.timer = self.frame.after(50, self.updateList)\n\n    def showRes(self):\n        self.resWindow = tkinter.Toplevel()\n        self.resWindow.title(self.target['title'])\n        self.resWindow.resizable(width='false', height='false')\n        if self.Tools.isWin():\n            self.resWindow.iconbitmap(self.Tools.getRes('biticon.ico'))\n        self.resWindow.config(background='#444')\n        self.resFrame = tkinter.Frame(self.resWindow, bd=0, bg='#444')\n        self.resFrame.grid(row=0, column=0, sticky='')\n        btnZone = tkinter.Frame(self.resWindow, bd=10, bg='#444')\n        btnZone.grid(row=1, column=0, sticky='')\n        self.resList = tkinter.Listbox(self.resFrame, height=8, width=50, bd=0, bg='#222', fg='#ddd', selectbackground='#116cd6', highlightthickness=0)\n        self.resList.grid(row=0, sticky='')\n        viewBtn = tkinter.Button(btnZone, text='\u67e5\u770b\u8fde\u63a5', width=10, fg='#222', highlightbackground='#444', command=self.__taskShow)\n        viewBtn.grid(row=0, column=0, padx=5)\n        watchBtn = tkinter.Button(btnZone, text='\u5728\u7ebf\u89c2\u770b', width=10, fg='#222', highlightbackground='#444', command=self.__taskWatch)\n        watchBtn.grid(row=0, column=1, padx=5)\n        dlBtn = tkinter.Button(btnZone, text='\u79bb\u7ebf\u4e0b\u8f7d', width=10, fg='#222', highlightbackground='#444', command=self.__taskDownload)\n        dlBtn.grid(row=0, column=2, padx=5)\n\n    def updateRes(self):\n        if self.resRst != '':\n            if len(self.resRst) > 0:\n                idx = 0\n                for x in self.resRst:\n                    self.resList.insert(idx, x[1])\n                    idx += 1\n            else:\n                self.resList.insert(0, '\u8be5\u8d44\u6e90\u5df2\u88ab\u548c\u8c10\uff0c\u6682\u65f6\u65e0\u6cd5\u64ad\u653e\u3002')\n        else:\n            self.timer = self.resFrame.after(50, self.updateRes)\n\n    def __getMovDetails(self, event):\n        idx = int(self.window.curselection()[0])\n        self.target = self.listRst[idx]\n        self.getDetail(self.target)\n\n    def __getChoose(self):\n        if self.resList.curselection() == ():\n            tkinter.messagebox.showinfo('Notice', '\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff01')\n        else:\n            idx = int(self.resList.curselection()[0])\n            target = self.resRst[idx]\n\n    def __taskWatch(self):\n        if self.resList.curselection() == ():\n            tkinter.messagebox.showinfo('\u63d0\u793a', '\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff01')\n        else:\n            idx = int(self.resList.curselection()[0])\n            target = self.resRst[idx]\n            Player = Play.Play(self.master)\n            Player.watchLink(target)\n\n    def __taskShow(self):\n        if self.resList.curselection() == ():\n            tkinter.messagebox.showinfo('\u63d0\u793a', '\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff01')\n        else:\n            idx = int(self.resList.curselection()[0])\n            target = self.resRst[idx]\n            Player = Play.Play(self.master)\n            Player.showLink(target)\n\n    def __taskDownload(self):\n        if self.resList.curselection() == ():\n            tkinter.messagebox.showinfo('\u63d0\u793a', '\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff01')\n        else:\n            idx = int(self.resList.curselection()[0])\n            target = self.resRst[idx]\n            Player = Play.Play(self.master)\n            Player.dlLink(target)",
  "line_no": 84,
  "line_no_percent": "73%"
}