{
  "instruction": "Develop a ML algorithm in Python to classify emails into spam and non-spam categories.",
  "buggy_code": "import numpy as np\nimport re\nimport nltk\nimport matplotlib.pyplot as plt\nimport pandas as pd\ndataset = pd.read_csv('spam.csv', encoding='latin-1')\ndataset = dataset.drop(['Unnamed: 2', 'Unnamed: 3', 'Unnamed: 4'], 1)\nimport re\nimport nltk\nnltk.download('stopwords')\nfrom nltk.corpus import stopwords\nfrom nltk.stem.porter import PorterStemmer\ncorpus = []\nfor i in range(1, 5572):\n    review = dataset['v2'][i]\n    review = re.sub('\\\\W', ' ', review)\n    review = re.sub('[^a-zA-Z]', ' ', review)\n    review = review.lower()\n    review = review.split()\n    stemmer = PorterStemmer()\n    review = [stemmer.stem(word) for word in review if not word in set(stopwords.words('english'))]\n    review = ' '.join(review)\n    corpus.append(review)\nfrom sklearn.feature_extraction.text import CountVectorizer\ncv = CountVectorizer(max_features=2600)\nX = cv.fit_transform(corpus).toarray()\ny = dataset.iloc[:, 0].values\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=0)\nfrom sklearn.naive_bayes import MultinomialNB\nclassifier = MultinomialNB()\nclassifier.fit(X_train, y_train)\ny_pred = classifier.predict(X_test)\nfrom sklearn.metrics import confusion_matrix\ncm = confusion_matrix(y_test, y_pred)\nprint(cm)",
  "line_no": 18,
  "line_no_percent": "50%"
}