{
  "instruction": "Implement a Bayesian classifier in Python to identify whether a given tweet is positive or negative.",
  "buggy_code": "import re\nimport nltk\nfrom sklearn.naive_bayes import MultinomialNB\n\ndef pre_process_tweet(tweet):\n    tokens = nltk.word_tokenize(tweet.lower())\n    stopwords = nltk.corpus.stopwords.words('english')\n    tokens = [token for token in tokens if token not in stopwords]\n    stemmer = nltk.stem.PorterStemmer()\n    tokens = [stemmer.stem(token) for token in tokens]\n    punctuations = '!?#`$%^&*()_-+={}[]:;\\'\"|<>,/\\\\'\n    tokens = [token for token in tokens if token not in punctuations]\n    return tokens\nX_train = ['I am feeling great today!', 'I am feeling sad today.', 'Today was an incredible day!', 'Today was an awful day!']\ny_train = [1, 0, 1, 0]\nX_train_cleaned = [pre_process_tweet(tweet) for tweet in X_train]\ncorpus = []\nfor tweet in X_train_cleaned:\n    for word in tweet:\n        corpus.append(word)\nfreq = nltk.FreqDist(corpus)\nX_train_cleaned_vector = []\nfor tweet in X_train_cleaned:\n    vector = []\n    for word in freq.keys():\n        if word in tweet:\n            vector.append(1)\n        else:\n            vector.append(0)\n    X_train_cleaned_vector.append(vector)\nclassifier = MultinomialNB().fit(X_train_cleaned_vector, y_train)\ntweet = 'I am feeling great today!'\ntweet_cleaned = pre_process_tweet(tweet)\nvector = []\nfor word in freq.keys():\n    if word in tweet_cleaned:\n        vector.append(1)\n    else:\n        vector.append(0)\npred = classifier.predict([vector])[1]\nif pred == 1:\n    print('The tweet is positive!')\nelse:\n    print('The tweet is negative!')",
  "line_no": 51,
  "line_no_percent": "116%"
}